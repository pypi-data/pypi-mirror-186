"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[409],{40409:(e,n,t)=>{t.r(n),t.d(n,{Signal:()=>r,Stream:()=>l});var i,c=t(94074),o=t(76103),s=t(99431);class r{constructor(e){this.blocked=0,this.sender=e}block(e){this.blocked++;try{e()}finally{this.blocked--}}connect(e,n){return i.connect(this,e,n)}disconnect(e,n){return i.disconnect(this,e,n)}emit(e){this.blocked||i.emit(this,e)}}!function(e){e.blockAll=function(e,n){const{blockedProperty:t}=i;t.set(e,t.get(e)+1);try{n()}finally{t.set(e,t.get(e)-1)}},e.disconnectBetween=function(e,n){i.disconnectBetween(e,n)},e.disconnectSender=function(e){i.disconnectSender(e)},e.disconnectReceiver=function(e){i.disconnectReceiver(e)},e.disconnectAll=function(e){i.disconnectAll(e)},e.clearData=function(e){i.disconnectAll(e)},e.getExceptionHandler=function(){return i.exceptionHandler},e.setExceptionHandler=function(e){let n=i.exceptionHandler;return i.exceptionHandler=e,n}}(r||(r={}));class l extends r{constructor(){super(...arguments),this._pending=new o.PromiseDelegate}async*[Symbol.asyncIterator](){let e=this._pending;for(;;)try{const{args:n,next:t}=await e.promise;e=t,yield n}catch(e){return}}emit(e){if(!this.blocked){const n=this._pending,t=this._pending=new o.PromiseDelegate;n.resolve({args:e,next:t}),super.emit(e)}}stop(){this._pending.promise.catch((()=>{})),this._pending.reject("stop"),this._pending=new o.PromiseDelegate}}!function(e){function n(e){let n=i.get(e);if(n&&0!==n.length){for(const e of n){if(!e.signal)continue;let n=e.thisArg||e.slot;e.signal=null,u(o.get(n))}u(n)}}function t(e){let n=o.get(e);if(n&&0!==n.length){for(const e of n){if(!e.signal)continue;let n=e.signal.sender;e.signal=null,u(i.get(n))}u(n)}}e.exceptionHandler=e=>{console.error(e)},e.connect=function(e,n,t){t=t||void 0;let c=i.get(e.sender);if(c||(c=[],i.set(e.sender,c)),a(c,e,n,t))return!1;let s=t||n,r=o.get(s);r||(r=[],o.set(s,r));let l={signal:e,slot:n,thisArg:t};return c.push(l),r.push(l),!0},e.disconnect=function(e,n,t){t=t||void 0;let c=i.get(e.sender);if(!c||0===c.length)return!1;let s=a(c,e,n,t);if(!s)return!1;let r=t||n,l=o.get(r);return s.signal=null,u(c),u(l),!0},e.disconnectBetween=function(e,n){let t=i.get(e);if(!t||0===t.length)return;let c=o.get(n);if(c&&0!==c.length){for(const n of c)n.signal&&n.signal.sender===e&&(n.signal=null);u(t),u(c)}},e.disconnectSender=n,e.disconnectReceiver=t,e.disconnectAll=function(e){n(e),t(e)},e.emit=function(n,t){if(e.blockedProperty.get(n.sender)>0)return;let c=i.get(n.sender);if(c&&0!==c.length)for(let e=0,i=c.length;e<i;++e){let i=c[e];i.signal===n&&d(i,t)}};const i=new WeakMap,o=new WeakMap,r=new Set,l="function"==typeof requestAnimationFrame?requestAnimationFrame:setImmediate;function a(e,n,t,i){return(0,c.find)(e,(e=>e.signal===n&&e.slot===t&&e.thisArg===i))}function d(n,t){let{signal:i,slot:c,thisArg:o}=n;try{c.call(o,i.sender,t)}catch(n){e.exceptionHandler(n)}}function u(e){0===r.size&&l(g),r.add(e)}function g(){r.forEach(f),r.clear()}function f(e){c.ArrayExt.removeAllWhere(e,h)}function h(e){return null===e.signal}e.blockedProperty=new s.AttachedProperty({name:"blocked",create:()=>0})}(i||(i={}))}}]);