config:
    # Generated Github action file
    githubAction: ${PROJECTDIR}/.github/workflows/build.yml

    # Template file for Github action
    githubActionTemplate: ${BASEDIR}/templates/build.yml

    # List of python versions to be tested
    githubPythonVersions: [] # (manual configuration)
    githubDetectedPythonVersions: # (deduced configuration from python plugin, if any)
        __resolver__: nmk_github.action.PythonVersionsResolver

    # List of operating systems (build images) for github action
    githubOSImages:
        - ubuntu-latest
        - windows-latest

    # Build command for github action
    githubCommand: source loadme.sh nmk tests

    # Github user
    githubUser:
        __resolver__: nmk_github.info.GithubUserResolver

    # Github repository
    githubRepo:
        __resolver__: nmk_github.info.GithubRepoResolver

tasks:
    # Github action file generation
    gh.actions:
        description: Generate Github action file
        emoji: ":octopus:.:clapper_board:"
        appendToDeps: setup
        input: ${githubActionTemplate}
        output: ${githubAction}
        if: ${githubDetectedPythonVersions}
        params:
            python_versions: ${githubDetectedPythonVersions}
            command: ${githubCommand}
            images: ${githubOSImages}
        builder: nmk_github.action.ActionFileBuilder
