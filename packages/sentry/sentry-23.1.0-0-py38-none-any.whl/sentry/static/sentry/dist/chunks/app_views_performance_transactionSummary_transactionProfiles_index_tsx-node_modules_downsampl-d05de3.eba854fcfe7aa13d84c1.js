"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_performance_transactionSummary_transactionProfiles_index_tsx-node_modules_downsampl-d05de3"],{"./app/views/performance/transactionSummary/transactionProfiles/index.tsx":(r,t,e)=>{e.r(t),e.d(t,{default:()=>C});var n=e("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(e("../node_modules/core-js/modules/es.array.push.js"),e("../node_modules/react/index.js")),o=e("../node_modules/react-router/es/index.js"),s=e("./app/components/datePageFilter.tsx"),i=e("./app/components/environmentPageFilter.tsx"),l=e("./app/components/layouts/thirds.tsx"),u=e("./app/components/organizations/pageFilterBar.tsx"),c=e("./app/components/profiling/profileEventsTable.tsx"),f=e("./app/components/smartSearchBar/index.tsx"),h=e("./app/constants/index.tsx"),p=e("./app/locale.tsx"),g=e("./app/styles/space.tsx"),d=e("./app/utils.tsx"),m=e("./app/utils/discover/eventView.tsx"),v=e("./app/utils/profiling/hooks/useProfileEvents.tsx"),y=e("./app/utils/profiling/hooks/useProfileFilters.tsx"),w=e("./app/utils/queryString.tsx"),x=e("./app/utils/tokenizeSearch.tsx"),M=e("./app/utils/useLocation.tsx"),b=e("./app/utils/useOrganization.tsx"),P=e("./app/utils/usePageFilters.tsx"),A=e("./app/utils/useProjects.tsx"),S=e("./app/views/performance/transactionSummary/tabs.tsx"),j=e("./app/views/profiling/profileSummary/content.tsx"),q=e("./app/views/performance/transactionSummary/pageLayout.tsx"),Z=e("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function k(){const r=(0,M.T)(),t=(0,b.Z)(),e=(0,A.Z)(),{selection:n}=(0,P.Z)(),g=(0,a.useMemo)((()=>(0,w.ro)(r.query.cursor)),[r.query.cursor]),k=e.projects.find((t=>t.id===r.query.project)),C=(0,j.H)(k?.platform),I=(0,v.kq)((0,w.ro)(r.query.sort),C,{key:"timestamp",order:"desc"}),[T,E]=(0,a.useState)((()=>{const t=new x.MY(""),e=(0,w.ro)(r.query.transaction);return(0,d.ri)(e)&&t.setFilterValues("transaction",[e]),t})),X=(0,v.GP)({cursor:g,fields:C,query:T.formatString(),sort:I,limit:30,referrer:"api.profiling.transactions-profiles-table"}),D=(0,a.useCallback)((t=>{E(new x.MY(t)),o.browserHistory.push({...r,query:{...r.query,cursor:void 0,query:t||void 0}})}),[r]),F=(0,y.J)({query:"",selection:n}),L=(0,w.ro)(r.query.transaction);return(0,Z.tZ)(q.ZP,{location:r,organization:t,projects:e.projects,tab:S.Z.Profiling,generateEventView:()=>m.ZP.fromLocation(r),getDocumentTitle:()=>(0,p.t)("Profile: %s",L),childComponent:()=>(0,Z.BX)(l.or,{fullWidth:!0,children:[(0,Z.BX)(_,{children:[(0,Z.BX)(u.Z,{condensed:!0,children:[(0,Z.tZ)(i.Z,{}),(0,Z.tZ)(s.Z,{alignDropdown:"left"})]}),(0,Z.tZ)(f.Z,{organization:t,hasRecentSearches:!0,searchSource:"profile_landing",supportedTags:F,query:T.formatString(),onSearch:D,maxQueryLength:h.dI})]}),(0,Z.tZ)(c.Q,{columns:C,data:"success"===X.status?X.data[0]:null,error:"error"===X.status?(0,p.t)("Unable to load profiles"):null,isLoading:"loading"===X.status,sort:I})]})})}k.displayName="Profiles";const _=(0,n.Z)("div",{target:"ehanm9e0"})("margin-bottom:",(0,g.Z)(2),";gap:",(0,g.Z)(2),";display:grid;grid-template-columns:min-content 1fr;"),C=k},"../node_modules/downsample/methods/ASAP.js":(r,t)=>{function e(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=r[e];return n}var n={"PointValueExtractor<unknown>":r=>"function"==typeof r,XYDataPoint:r=>null!=r&&n.X(r.x)&&"number"==typeof r.y,X:r=>"number"==typeof r||r instanceof Date},a=r=>{for(var t=0,e=0;e<r.length;e+=1)t+=r[e];return t/r.length},o=(r,t)=>{for(var e=r.length,n=new Array(e),a=0;a<e;a++)n[a]=t(r[a],a);return n},s=r=>n["PointValueExtractor<unknown>"](r)?r:t=>t[r],i=(r,t)=>({x:r,y:t}),l=()=>({x:r=>{var t=n.XYDataPoint(r)?r.x:r[0];return t instanceof Date?t.getTime():t},y:r=>"y"in r?r.y:r[1],toPoint:i}),u=(r,t)=>new r.constructor(t),c=function(r,t){for(var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=[],a=0,o=0;o<t;o++)a+=r[o];for(var s=t;s<=r.length;s++)(s-t)%e==0&&n.push(a/t),a+=r[s]-r[s-t];return n},f=r=>{var t=s(r.x),e=s(r.y),n=r.toPoint;return function(r,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(0===r.length)return r;for(var i,l=o(r,e),c=o(r,t),f=u(r,0),h=0,p=0;p<a;p++)h+=l[p];for(var g=a;g<=l.length;g++)(g-a)%s==0&&(i=n((c[g-a]+c[g-1])/2,h/a,g-a),f[f.length]=i),h+=l[g]-l[g-a];return f}};function h(r,t){if(r.length!=t.length)throw"Mismatched lengths";var e=r.length;0!=e&&(0==(e&e-1)?function(r,t){if(r.length!=t.length)throw"Mismatched lengths";var e=r.length;if(1!=e){for(var n=-1,a=0;a<32;a++)1<<a==e&&(n=a);if(-1==n)throw"Length is not a power of 2";for(var o=new Array(e/2),s=new Array(e/2),i=0;i<e/2;i++)o[i]=Math.cos(2*Math.PI*i/e),s[i]=Math.sin(2*Math.PI*i/e);for(var l=0;l<e;l++){var u=g(l,n);if(u>l){var c=r[l];r[l]=r[u],r[u]=c,c=t[l],t[l]=t[u],t[u]=c}}for(var f=2;f<=e;f*=2)for(var h=f/2,p=e/f,d=0;d<e;d+=f)for(var m=d,v=0;m<d+h;m++,v+=p){var y=r[m+h]*o[v]+t[m+h]*s[v],w=-r[m+h]*s[v]+t[m+h]*o[v];r[m+h]=r[m]-y,t[m+h]=t[m]-w,r[m]+=y,t[m]+=w}}}(r,t):function(r,t){if(r.length!=t.length)throw"Mismatched lengths";for(var e=r.length,n=1;n<2*e+1;)n*=2;for(var a=new Array(e),o=new Array(e),s=0;s<e;s++){var i=s*s%(2*e);a[s]=Math.cos(Math.PI*i/e),o[s]=Math.sin(Math.PI*i/e)}for(var l=new Array(n),u=new Array(n),c=0;c<e;c++)l[c]=r[c]*a[c]+t[c]*o[c],u[c]=-r[c]*o[c]+t[c]*a[c];for(var f=e;f<n;f++)l[f]=u[f]=0;var g=new Array(n),d=new Array(n);g[0]=a[0],d[0]=o[0];for(var m=1;m<e;m++)g[m]=g[n-m]=a[m],d[m]=d[n-m]=o[m];for(var v=e;v<=n-e;v++)g[v]=d[v]=0;var y=new Array(n),w=new Array(n);!function(r,t,e,n,a,o){if(r.length!=t.length||r.length!=e.length||e.length!=n.length||r.length!=a.length||a.length!=o.length)throw"Mismatched lengths";var s=r.length;r=r.slice(),t=t.slice(),e=e.slice(),n=n.slice(),h(r,t),h(e,n);for(var i=0;i<s;i++){var l=r[i]*e[i]-t[i]*n[i];t[i]=t[i]*e[i]+r[i]*n[i],r[i]=l}p(r,t);for(var u=0;u<s;u++)a[u]=r[u]/s,o[u]=t[u]/s}(l,u,g,d,y,w);for(var x=0;x<e;x++)r[x]=y[x]*a[x]+w[x]*o[x],t[x]=-y[x]*o[x]+w[x]*a[x]}(r,t))}function p(r,t){h(t,r)}function g(r,t){for(var e=0,n=0;n<t;n++)e=e<<1|1&r,r>>>=1;return e}f(l());var d,m,v,y=r=>(r=>{for(var t=a(r),e=0,n=0;n<r.length;n+=1)e+=(r[n]-t)*(r[n]-t);return Math.sqrt(e/r.length)})((r=>{var t=r.length-1;if(t<1)return[];for(var e=new Array(t),n=0;n<t;n++)e[n]=r[n+1]-r[n];return e})(r)),w=r=>{for(var t,e,n=r.length,o=a(r),s=0,i=0,l=0;l<n;l++)s+=(e=(t=r[l]-o)*t)*e,i+=e;return n*s/(i*i)},x=(d=l(),m=s(d.y),v=f(d),function r(t,n){if(0===t.length)return t;if(n<=0)throw new Error("Supplied non-positive resolution parameter to ASAP: ".concat(n));if(t.length>=2*n){var s=Math.trunc(t.length/n);return r(v(t,s,s),n)}for(var i=o(t,m),l=((r,t)=>{for(var n=r.length,o=a(r),s=Math.pow(2,Math.trunc(Math.log2(n))+1),i=new Array(s).fill(0),l=new Array(s).fill(0),u=0;u<n;u+=1)i[u]=r[u]-o;h(i,l);for(var c=0;c<i.length;c+=1)i[c]=Math.pow(i[c],2)+Math.pow(l[c],2),l[c]=0;p(i,l);for(var f=[],g=1;g<t;g++)f[g]=i[g]/i[0];var d=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,e=r.length;if(e<=1)return[[],0];var n=0,a=[];if(r.length>1)for(var o=r[1]>r[0],s=1,i=2;i<r.length;i+=1)!o&&r[i]>r[i-1]?(s=i,o=!o):o&&r[i]>r[s]?s=i:o&&r[i]<r[i-1]&&(s>1&&r[s]>t&&(a.push(s),r[s]>n&&(n=r[s])),o=!o);if(a.length<=1)for(var l=2;l<e;l+=1)a.push(l);return[a,n]}(f),m=function(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r)){var e=[],n=!0,a=!1,o=void 0;try{for(var s,i=r[Symbol.iterator]();!(n=(s=i.next()).done)&&(e.push(s.value),!t||e.length!==t);n=!0);}catch(r){a=!0,o=r}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return e}}(r,t)||function(r,t){if(r){if("string"==typeof r)return e(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(r,t):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(d,2);return{correlations:f,peaks:m[0],maxCorrelation:m[1]}})(i,Math.round(i.length/10)),u=l.correlations,f=l.peaks,g=l.maxCorrelation,d=w(i),x=y(i),M=1,b=1,P=-1,A=i.length/10,S=f.length-1;S>=0;S-=1){var j=f[S];if(j<b||1===j)break;if(!(Math.sqrt(1-u[j])*M>Math.sqrt(1-u[M])*j)){var q=c(i,j,1),Z=w(q),k=y(q);Z>=d&&(k<x&&(x=k,M=j),b=Math.round(Math.max(j*Math.sqrt((g-1)/(u[j]-1)),b)),P<0&&(P=S))}}return P>0&&(P<f.length-2&&(A=f[P+1]),b=Math.max(b,f[P]+1)),M=((r,t,e,n,a,o)=>{for(;r<=t;){var s=Math.round((r+t)/2),i=c(e,s,1);if(w(i)>=a){var l=y(i);l<n&&(o=s,n=l),r=s+1}else t=s-1}return o})(b,A,i,x,d,M),v(t,M,1)});t.Cl=x}}]);
//# sourceMappingURL=../sourcemaps/app_views_performance_transactionSummary_transactionProfiles_index_tsx-node_modules_downsampl-d05de3.63354fde82158f55404996a89880513a.js.map