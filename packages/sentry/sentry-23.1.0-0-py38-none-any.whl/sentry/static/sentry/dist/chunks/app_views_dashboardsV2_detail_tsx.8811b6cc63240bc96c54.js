"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_dashboardsV2_detail_tsx"],{"./app/components/globalSdkUpdateAlert.tsx":(t,e,a)=>{a.d(e,{_:()=>x});var s=a("../node_modules/react/index.js"),i=a("./app/actionCreators/prompts.tsx"),r=a("./app/components/alert.tsx"),o=a("./app/components/button.tsx"),n=a("./app/components/buttonBar.tsx"),d=a("./app/components/sidebar/types.tsx"),l=a("./app/constants/pageFilters.tsx"),c=a("./app/icons/index.tsx"),p=a("./app/locale.tsx"),h=a("./app/stores/sidebarPanelStore.tsx"),u=a("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),m=a("./app/utils/promptIsDismissed.tsx"),g=a("./app/utils/useApi.tsx"),f=a("./app/utils/useOrganization.tsx"),b=a("./app/utils/usePageFilters.tsx"),y=a("./app/utils/withSdkUpdates.tsx"),w=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function v(t){const e=(0,g.Z)(),a=(0,f.Z)(),{selection:y}=(0,b.Z)(),[v,x]=(0,s.useState)(!1),D=(0,s.useCallback)((()=>{(0,i.Xt)(e,{organizationId:a.id,feature:"sdk_updates",status:"snoozed"}),(0,u.Z)("sdk_updates.snoozed",{organization:a}),x(!1)}),[e,a]),Z=(0,s.useCallback)((()=>{h.Z.activatePanel(d.z.Broadcasts),(0,u.Z)("sdk_updates.clicked",{organization:a})}),[a]);return(0,s.useEffect)((()=>{(0,u.Z)("sdk_updates.seen",{organization:a});let t=!1;return(0,i.vu)(e,{organizationId:a.id,feature:"sdk_updates"}).then((e=>{t||x(!(0,m.IB)(e))})),()=>{t=!0}}),[e,a]),v&&t.sdkUpdates?.length?(0===y?.projects?.length||y?.projects[0]===l.mP?t.sdkUpdates:t.sdkUpdates.filter((t=>y?.projects?.includes(parseInt(t.projectId,10))))).every((t=>0===t.suggestions.length))?null:(0,w.tZ)(r.bZ,{type:"info",showIcon:!0,className:t.className,trailingItems:(0,w.BX)(n.ZP,{gap:2,children:[(0,w.tZ)(o.zx,{priority:"link",size:"xs",onClick:Z,children:(0,p.t)("Review updates")}),(0,w.tZ)(o.zx,{"aria-label":(0,p.t)("Remind me later"),title:(0,p.t)("Dismiss for the next two weeks"),priority:"link",size:"xs",icon:(0,w.tZ)(c.bM,{}),onClick:D})]}),children:(0,p.t)("You have outdated SDKs in your projects. Update them for important fixes and features.")}):null}v.displayName="InnerGlobalSdkUpdateAlert";const x=(0,y.Z)(v)},"./app/views/dashboardsV2/detail.tsx":(t,e,a)=>{a.d(e,{R:()=>wt,Z:()=>Zt});var s=a("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=a("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=(a("../node_modules/core-js/modules/es.array.includes.js"),a("../node_modules/core-js/modules/es.array.push.js"),a("../node_modules/react/index.js")),o=a("../node_modules/react-router/es/index.js"),n=a("../node_modules/lodash/isEqual.js"),d=a.n(n),l=a("../node_modules/lodash/omit.js"),c=a.n(l),p=a("./app/actionCreators/dashboards.tsx"),h=a("./app/actionCreators/indicator.tsx"),u=a("./app/actionCreators/modal.tsx"),m=a("./app/components/breadcrumbs.tsx"),g=a("./app/components/hookOrDefault.tsx"),f=a("./app/components/layouts/thirds.tsx"),b=a("./app/components/modals/widgetViewerModal/utils.tsx"),y=a("./app/components/noProjectMessage.tsx"),w=a("./app/components/organizations/pageFilters/container.tsx"),v=a("./app/components/sentryDocumentTitle.tsx"),x=a("./app/constants/index.tsx"),D=a("./app/locale.tsx"),Z=a("./app/styles/space.tsx"),E=a("./app/utils.tsx"),S=a("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),P=a("./app/utils/discover/eventView.tsx"),C=a("./app/utils/performance/contexts/metricsCardinality.tsx"),A=a("./app/utils/performance/contexts/metricsEnhancedSetting.tsx"),_=a("./app/utils/withApi.tsx"),R=a("./app/utils/withDomainRequired.tsx"),T=a("./app/utils/withOrganization.tsx"),F=a("./app/utils/withProjects.tsx"),L=a("./app/views/dashboardsV2/utils.tsx"),k=a("./app/views/performance/landing/metricsDataSwitcherAlert.tsx"),I=a("./app/views/performance/data.tsx"),z=a("./app/views/performance/landing/metricsDataSwitcher.tsx"),j=a("./app/views/performance/utils.tsx"),q=a("./app/views/dashboardsV2/widgetViewer/widgetViewerContext.tsx"),O=a("./app/components/acl/feature.tsx"),V=a("./app/components/acl/featureDisabled.tsx"),N=a("./app/components/button.tsx"),W=a("./app/components/buttonBar.tsx"),$=a("./app/components/confirm.tsx"),M=a("./app/components/hovercard.tsx"),B=a("./app/components/tooltip.tsx"),U=a("./app/icons/index.tsx"),Y=a("./app/views/dashboardsV2/types.tsx"),H=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function G(t){let{organization:e,dashboardState:a,dashboards:s,hasUnsavedFilters:i,widgetLimitReached:o,onEdit:n,onCommit:d,onDelete:l,onCancel:c,onAddWidget:p}=t;function h(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,D.t)("Cancel");return(0,H.tZ)(N.zx,{"data-test-id":"dashboard-cancel",size:"sm",onClick:t=>{t.preventDefault(),c()},children:t})}return[Y.n3.EDIT,Y.n3.PENDING_DELETE].includes(a)?(0,H.BX)(K,{gap:1,children:[h(),(0,H.tZ)($.Z,{priority:"danger",message:(0,D.t)("Are you sure you want to delete this dashboard?"),onConfirm:l,disabled:s.length<=1,children:(0,H.tZ)(N.zx,{size:"sm","data-test-id":"dashboard-delete",priority:"danger",children:(0,D.t)("Delete")})}),(0,H.tZ)(N.zx,{"data-test-id":"dashboard-commit",size:"sm",onClick:t=>{t.preventDefault(),d()},priority:"primary",children:(0,D.t)("Save and Finish")})]},"edit-controls"):a===Y.n3.CREATE?(0,H.BX)(K,{gap:1,children:[h(),(0,H.tZ)(N.zx,{"data-test-id":"dashboard-commit",size:"sm",onClick:t=>{t.preventDefault(),d()},priority:"primary",children:(0,D.t)("Save and Finish")})]},"create-controls"):a===Y.n3.PREVIEW?(0,H.BX)(K,{gap:1,children:[h((0,D.t)("Go Back")),(0,H.tZ)(N.zx,{"data-test-id":"dashboard-commit",size:"sm",onClick:t=>{t.preventDefault(),d()},priority:"primary",children:(0,D.t)("Add Dashboard")})]},"preview-controls"):(0,H.tZ)(K,{gap:1,children:(0,H.tZ)(X,{children:t=>(0,H.BX)(r.Fragment,{children:[(0,H.tZ)(N.zx,{"data-test-id":"dashboard-edit",onClick:t=>{t.preventDefault(),n()},icon:(0,H.tZ)(U.yl,{}),disabled:!t||i,title:i&&wt,priority:"default",size:"sm",children:(0,D.t)("Edit Dashboard")}),t?(0,H.tZ)(B.ZP,{title:(0,D._N)("Max widgets ([maxWidgets]) per dashboard reached.",{maxWidgets:Y.ZU}),disabled:!o,children:(0,H.tZ)(N.zx,{"data-test-id":"add-widget-library",priority:"primary",size:"sm",disabled:o,icon:(0,H.tZ)(U.N_,{isCircled:!0}),onClick:()=>{(0,S.Z)("dashboards_views.widget_library.opened",{organization:e}),p()},children:(0,D.t)("Add Widget")})}):null]})})},"controls")}G.displayName="Controls";const X=t=>{let{children:e}=t;return(0,H.tZ)(O.Z,{hookName:"feature-disabled:dashboards-edit",features:["organizations:dashboards-edit"],renderDisabled:t=>(0,H.tZ)(M.uI,{body:(0,H.tZ)(V.Z,{features:t.features,hideHelpToggle:!0,featureName:(0,D.t)("Dashboard Editing")}),children:t.children(t)}),children:t=>{let{hasFeature:a}=t;return e(a)}})};X.displayName="DashboardEditFeature";const K=(0,i.Z)(W.ZP,{target:"ecmkwpr0"})("@media (max-width: ",(t=>t.theme.breakpoints.small),"){grid-auto-flow:row;grid-row-gap:",(0,Z.Z)(1),";width:100%;}"),Q=G;var J=a("./app/views/dashboardsV2/dashboard.tsx"),tt=a("./app/views/dashboardsV2/data.tsx"),et=a("./app/components/datePageFilter.tsx"),at=a("./app/components/environmentPageFilter.tsx"),st=a("./app/components/organizations/pageFilterBar.tsx"),it=a("./app/components/projectPageFilter.tsx"),rt=a("./app/utils/queryString.tsx"),ot=a("./app/utils/releases/releasesProvider.tsx"),nt=a("./app/utils/useOrganization.tsx"),dt=a("./app/utils/usePageFilters.tsx"),lt=a("./app/views/dashboardsV2/releasesSelectControl.tsx");function ct(t){let{filters:e,hasUnsavedChanges:a,isEditingDashboard:s,isPreview:i,location:o,onCancel:n,onDashboardFilterChange:d,onSave:l}=t;const{selection:c}=(0,dt.Z)(),p=(0,nt.Z)(),h=((0,E.ri)(o.query?.[Y.qA.RELEASE])?(0,rt.qP)(o.query[Y.qA.RELEASE]):e?.[Y.qA.RELEASE])??[];return(0,H.BX)(pt,{children:[(0,H.BX)(st.Z,{condensed:!0,children:[(0,H.tZ)(it.Z,{disabled:s}),(0,H.tZ)(at.Z,{disabled:s}),(0,H.tZ)(et.Z,{alignDropdown:"left",disabled:s})]}),(0,H.BX)(r.Fragment,{children:[(0,H.tZ)(ht,{children:(0,H.tZ)(ut,{children:(0,H.tZ)(ot.lR,{organization:p,selection:c,children:(0,H.tZ)(lt.Z,{handleChangeFilter:d,selectedReleases:h,isDisabled:s})})})}),a&&!s&&!i&&(0,H.BX)(ht,{children:[(0,H.tZ)(N.zx,{priority:"primary",onClick:l,children:(0,D.t)("Save")}),(0,H.tZ)(N.zx,{onClick:n,children:(0,D.t)("Cancel")})]})]})]})}ct.displayName="FiltersBar";const pt=(0,i.Z)("div",{target:"e1newvzv2"})("display:flex;flex-direction:row;gap:",(0,Z.Z)(1.5),";margin-bottom:",(0,Z.Z)(2),";@media (max-width: ",(t=>t.theme.breakpoints.small),"){display:grid;grid-auto-flow:row;}"),ht=(0,i.Z)(W.ZP,{target:"e1newvzv1"})("display:grid;gap:",(0,Z.Z)(1.5),";@media (min-width: ",(t=>t.theme.breakpoints.small),"){display:flex;align-items:flex-start;gap:",(0,Z.Z)(1.5),";}"),ut=(0,i.Z)("div",{target:"e1newvzv0"})("@media (min-width: ",(t=>t.theme.breakpoints.small),"){max-width:300px;}");var mt=a("./app/views/dashboardsV2/layoutUtils.tsx"),gt=a("./app/components/editableText.tsx");function ft(t){let{dashboard:e,isEditing:a,onUpdate:s}=t;return(0,H.tZ)(r.Fragment,{children:e?(0,H.tZ)(gt.Z,{isDisabled:!a,value:e.title,onChange:t=>s({...e,title:t}),errorMessage:(0,D.t)("Please set a title for this dashboard"),autoSelect:!0}):(0,D.t)("Dashboards")})}ft.displayName="DashboardTitle";const bt=ft,yt=(0,D.t)("You have unsaved changes, are you sure you want to leave?"),wt=(0,D.t)("You have unsaved dashboard filters. You can save or discard them."),vt=(0,g.Z)({hookName:"component:dashboards-header"});class xt extends r.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{dashboardState:this.props.initialState,modifiedDashboard:this.updateModifiedDashboard(this.props.initialState),widgetLimitReached:this.props.dashboard.widgets.length>=Y.ZU,setData:t=>{this.setState(t)}}),(0,s.Z)(this,"onEdit",(()=>{const{dashboard:t,organization:e}=this.props;(0,S.Z)("dashboards2.edit.start",{organization:e}),this.setState({dashboardState:Y.n3.EDIT,modifiedDashboard:(0,L.qk)(t)})})),(0,s.Z)(this,"onRouteLeave",(()=>{const{dashboard:t}=this.props,{modifiedDashboard:e}=this.state;if(![Y.n3.VIEW,Y.n3.PENDING_DELETE,Y.n3.PREVIEW].includes(this.state.dashboardState)&&!d()(e,t))return yt})),(0,s.Z)(this,"onUnload",(t=>{const{dashboard:e}=this.props,{modifiedDashboard:a}=this.state;[Y.n3.VIEW,Y.n3.PENDING_DELETE,Y.n3.PREVIEW].includes(this.state.dashboardState)||d()(a,e)||(t.preventDefault(),t.returnValue=yt)})),(0,s.Z)(this,"onDelete",(t=>()=>{const{api:e,organization:a,location:s}=this.props;if(!t?.id)return;const i=this.state.dashboardState;this.setState({dashboardState:Y.n3.PENDING_DELETE},(()=>{(0,p.iM)(e,a.slug,t.id).then((()=>{(0,h.S9)((0,D.t)("Dashboard deleted")),(0,S.Z)("dashboards2.delete",{organization:a}),o.browserHistory.replace({pathname:`/organizations/${a.slug}/dashboards/`,query:s.query})})).catch((()=>{this.setState({dashboardState:i})}))}))})),(0,s.Z)(this,"onCancel",(()=>{const{organization:t,dashboard:e,location:a,params:s}=this.props,{modifiedDashboard:i}=this.state;let r=!d()(i,e);if(e.widgets.every((t=>{let{layout:e}=t;return!(0,E.ri)(e)}))&&(r=!d()({...i,widgets:i?.widgets.map((t=>c()(t,"layout")))},{...e,widgets:e.widgets.map((t=>c()(t,"layout")))})),!r||this.isPreview||confirm(yt)){if(s.dashboardId)return(0,S.Z)("dashboards2.edit.cancel",{organization:t}),void this.setState({dashboardState:Y.n3.VIEW,modifiedDashboard:null});(0,S.Z)("dashboards2.create.cancel",{organization:t}),o.browserHistory.replace((0,R.D)({pathname:`/organizations/${t.slug}/dashboards/`,query:a.query}))}})),(0,s.Z)(this,"handleChangeFilter",(t=>{const{dashboard:e,location:a}=this.props,{modifiedDashboard:s}=this.state,i=s||e;if(Object.keys(t).every((e=>!i.filters?.[e]&&0===t[e].length)))return;const r={};Object.keys(t).forEach((e=>{r[e]=t[e].length?t[e]:""})),d()(t,e.filters)||o.browserHistory.push({...a,query:{...a.query,...r}})})),(0,s.Z)(this,"handleUpdateWidgetList",(t=>{const{organization:e,dashboard:a,api:s,onDashboardUpdate:i,location:r}=this.props,{modifiedDashboard:n}=this.state,d=(0,mt.RI)(t),l=(0,mt.Sp)(d),c={...(0,L.qk)(n||a),widgets:(0,mt._F)(t,l)};this.setState({modifiedDashboard:c,widgetLimitReached:t.length>=Y.ZU}),this.isEditing||this.isPreview||(0,p.Y)(s,e.slug,c).then((t=>{i&&(i(t),this.setState({modifiedDashboard:null})),(0,h.S9)((0,D.t)("Dashboard updated")),a&&t.id!==a.id&&o.browserHistory.replace((0,R.D)({pathname:`/organizations/${e.slug}/dashboard/${t.id}/`,query:{...r.query}}))}),(()=>{}))})),(0,s.Z)(this,"handleAddCustomWidget",(t=>{const{dashboard:e}=this.props,{modifiedDashboard:a}=this.state,s=a||e;this.onUpdateWidget([...s.widgets,t])})),(0,s.Z)(this,"onAddWidget",(()=>{const{organization:t,dashboard:e,router:a,location:s,params:{dashboardId:i}}=this.props;this.setState({modifiedDashboard:(0,L.qk)(e)}),i&&a.push((0,R.D)({pathname:`/organizations/${t.slug}/dashboard/${i}/widget/new/`,query:{...s.query,source:Y.EN.DASHBOARDS}}))})),(0,s.Z)(this,"onCommit",(()=>{const{api:t,organization:e,location:a,dashboard:s,onDashboardUpdate:i}=this.props,{modifiedDashboard:r,dashboardState:n}=this.state;switch(n){case Y.n3.PREVIEW:case Y.n3.CREATE:if(r){this.isPreview&&(0,S.Z)("dashboards_manage.templates.add",{organization:e,dashboard_id:s.id,dashboard_title:s.title,was_previewed:!0});const i={...(0,L.qk)(r),...(0,L.EK)(a),filters:(0,L.lM)(a)??r.filters};(0,p.JR)(t,e.slug,i,this.isPreview).then((t=>{(0,h.S9)((0,D.t)("Dashboard created")),(0,S.Z)("dashboards2.create.complete",{organization:e}),this.setState({dashboardState:Y.n3.VIEW}),o.browserHistory.replace((0,R.D)({pathname:`/organizations/${e.slug}/dashboard/${t.id}/`,query:{query:c()(a.query,Object.values(Y.qA))}}))}),(()=>{}))}break;case Y.n3.EDIT:if(r)return d()(s,r)?void this.setState({dashboardState:Y.n3.VIEW,modifiedDashboard:null}):void(0,p.Y)(t,e.slug,r).then((t=>{i&&i(t),(0,h.S9)((0,D.t)("Dashboard updated")),(0,S.Z)("dashboards2.edit.complete",{organization:e}),this.setState({dashboardState:Y.n3.VIEW,modifiedDashboard:null}),s&&t.id!==s.id&&o.browserHistory.replace((0,R.D)({pathname:`/organizations/${e.slug}/dashboard/${t.id}/`,query:{...a.query}}))}),(()=>{}));this.setState({dashboardState:Y.n3.VIEW,modifiedDashboard:null});break;case Y.n3.VIEW:default:this.setState({dashboardState:Y.n3.VIEW,modifiedDashboard:null})}})),(0,s.Z)(this,"setModifiedDashboard",(t=>{this.setState({modifiedDashboard:t})})),(0,s.Z)(this,"onUpdateWidget",(t=>{this.setState((e=>({...e,widgetLimitReached:t.length>=Y.ZU,modifiedDashboard:{...e.modifiedDashboard||this.props.dashboard,widgets:t}})))}))}componentDidMount(){const{route:t,router:e}=this.props;e.setRouteLeaveHook(t,this.onRouteLeave),window.addEventListener("beforeunload",this.onUnload),this.checkIfShouldMountWidgetViewerModal()}componentDidUpdate(t){this.checkIfShouldMountWidgetViewerModal(),t.initialState!==this.props.initialState&&this.setState({dashboardState:this.props.initialState})}componentWillUnmount(){window.removeEventListener("beforeunload",this.onUnload)}checkIfShouldMountWidgetViewerModal(){const{params:{widgetId:t,dashboardId:e},organization:a,dashboard:s,location:i,router:r}=this.props,{seriesData:o,tableData:n,pageLinks:d,totalIssuesCount:l,seriesResultsType:p}=this.state;if((0,b.X)(i.pathname)){const m=(0,E.ri)(t)&&(s.widgets.find((e=>{let{id:a}=e;return a===String(t)}))??s.widgets[t]);m?((0,u.openWidgetViewerModal)({organization:a,widget:m,seriesData:o,seriesResultsType:p,tableData:n,pageLinks:d,totalIssuesCount:l,onClose:()=>{const t=c()(i.query,Object.values(b.R));r.push({pathname:i.pathname.replace(/widget\/[0-9]+\/$/,""),query:t})},onEdit:()=>{const t=s.widgets.indexOf(m);e&&r.push((0,R.D)({pathname:`/organizations/${a.slug}/dashboard/${e}/widget/${t}/edit/`,query:{...i.query,source:Y.EN.DASHBOARDS}}))}}),(0,S.Z)("dashboards_views.widget_viewer.open",{organization:a,widget_type:m.widgetType??Y.l9.DISCOVER,display_type:m.displayType})):(r.replace((0,R.D)({pathname:`/organizations/${a.slug}/dashboard/${s.id}/`,query:i.query})),(0,h.Iw)((0,D.t)("Widget not found")))}}updateModifiedDashboard(t){const{dashboard:e}=this.props;switch(t){case Y.n3.PREVIEW:case Y.n3.CREATE:case Y.n3.EDIT:return(0,L.qk)(e);default:return null}}get isPreview(){const{dashboardState:t}=this.state;return Y.n3.PREVIEW===t}get isEditing(){const{dashboardState:t}=this.state;return[Y.n3.EDIT,Y.n3.CREATE,Y.n3.PENDING_DELETE].includes(t)}get isWidgetBuilderRouter(){const{location:t,params:e,organization:a}=this.props,{dashboardId:s,widgetIndex:i}=e,r=[`/organizations/${a.slug}/dashboards/new/widget/new/`,`/organizations/${a.slug}/dashboard/${s}/widget/new/`,`/organizations/${a.slug}/dashboards/new/widget/${i}/edit/`,`/organizations/${a.slug}/dashboard/${s}/widget/${i}/edit/`];return x.Yj&&r.push("/dashboards/new/widget/new/",`/dashboard/${s}/widget/new/`,`/dashboards/new/widget/${i}/edit/`,`/dashboard/${s}/widget/${i}/edit/`),r.includes(t.pathname)}get dashboardTitle(){const{dashboard:t}=this.props,{modifiedDashboard:e}=this.state;return e?e.title:t.title}renderWidgetBuilder(){const{children:t,dashboard:e}=this.props,{modifiedDashboard:a}=this.state;return(0,r.isValidElement)(t)?(0,r.cloneElement)(t,{dashboard:a??e,onSave:this.isEditing?this.onUpdateWidget:this.handleUpdateWidgetList}):t}renderDefaultDashboardDetail(){const{organization:t,dashboard:e,dashboards:a,params:s,router:i,location:r}=this.props,{modifiedDashboard:o,dashboardState:n,widgetLimitReached:d}=this.state,{dashboardId:l}=s;return(0,H.tZ)(w.Z,{desyncedAlertMessage:'Using filter values saved to this dashboard. To edit saved filters, click "Edit Dashboard".',hideDesyncRevertButton:!0,defaultSelection:{datetime:{start:null,end:null,utc:!1,period:tt.GY}},children:(0,H.tZ)(f.T3,{withPadding:!0,children:(0,H.BX)(y.Z,{organization:t,children:[(0,H.BX)(Dt,{children:[(0,H.tZ)(f.Dx,{children:(0,H.tZ)(bt,{dashboard:o??e,onUpdate:this.setModifiedDashboard,isEditing:this.isEditing})}),(0,H.tZ)(Q,{organization:t,dashboards:a,onEdit:this.onEdit,onCancel:this.onCancel,onCommit:this.onCommit,onAddWidget:this.onAddWidget,onDelete:this.onDelete(e),dashboardState:n,widgetLimitReached:d})]}),(0,H.tZ)(vt,{organization:t}),(0,H.tZ)(ct,{filters:{},location:r,hasUnsavedChanges:!1,isEditingDashboard:!1,isPreview:!1,onDashboardFilterChange:this.handleChangeFilter}),(0,H.tZ)(C.BT,{organization:t,location:r,children:(0,H.tZ)(z.d,{organization:t,eventView:P.ZP.fromLocation(r),location:r,hideLoadingIndicator:!0,children:a=>(0,H.tZ)(A.kP,{location:r,forceTransactions:a.forceTransactionsOnly,children:(0,H.tZ)(J.ZP,{paramDashboardId:l,dashboard:o??e,organization:t,isEditing:this.isEditing,widgetLimitReached:d,onUpdate:this.onUpdateWidget,handleUpdateWidgetList:this.handleUpdateWidgetList,handleAddCustomWidget:this.handleAddCustomWidget,isPreview:this.isPreview,router:i,location:r})})})})]})})})}getBreadcrumbLabel(){const{dashboardState:t}=this.state;let e=this.dashboardTitle;return t===Y.n3.CREATE?e=(0,D.t)("Create Dashboard"):this.isPreview&&(e=(0,D.t)("Preview Dashboard")),e}renderDashboardDetail(){const{api:t,organization:e,dashboard:a,dashboards:s,params:i,router:r,location:n,newWidget:d,onSetNewWidget:l,onDashboardUpdate:u,projects:g}=this.props,{modifiedDashboard:b,dashboardState:x,widgetLimitReached:Z,seriesData:E,setData:S}=this.state,{dashboardId:P}=i,_="default-overview"!==a.id&&x!==Y.n3.CREATE&&(0,L.S$)(a,n),T=(0,I.C)(n,g),F=a.widgets.some(L.Gx);return(0,H.tZ)(v.Z,{title:a.title,orgSlug:e.slug,children:(0,H.tZ)(w.Z,{desyncedAlertMessage:'Using filter values saved to this dashboard. To edit saved filters, click "Edit Dashboard".',hideDesyncRevertButton:!0,defaultSelection:{datetime:{start:null,end:null,utc:!1,period:tt.GY}},children:(0,H.tZ)(f.T3,{children:(0,H.BX)(y.Z,{organization:e,children:[(0,H.BX)(f.h4,{children:[(0,H.BX)(f.oB,{children:[(0,H.tZ)(m.Z,{crumbs:[{label:(0,D.t)("Dashboards"),to:`/organizations/${e.slug}/dashboards/`},{label:this.getBreadcrumbLabel()}]}),(0,H.tZ)(f.Dx,{children:(0,H.tZ)(bt,{dashboard:b??a,onUpdate:this.setModifiedDashboard,isEditing:this.isEditing})})]}),(0,H.tZ)(f.kP,{children:(0,H.tZ)(Q,{organization:e,dashboards:s,hasUnsavedFilters:_,onEdit:this.onEdit,onCancel:this.onCancel,onCommit:this.onCommit,onAddWidget:this.onAddWidget,onDelete:this.onDelete(a),dashboardState:x,widgetLimitReached:Z})})]}),(0,H.tZ)(f.uT,{children:(0,H.tZ)(f.or,{fullWidth:!0,children:(0,H.tZ)(C.BT,{organization:e,location:n,children:(0,H.tZ)(z.d,{organization:e,eventView:T,location:n,hideLoadingIndicator:!0,children:s=>(0,H.BX)(A.kP,{location:n,forceTransactions:s.forceTransactionsOnly,children:[F?(0,H.tZ)(k.v,{organization:e,eventView:T,projects:g,location:n,router:r,source:j.Pv.DISCOVER,...s}):null,(0,H.tZ)(ct,{filters:(b??a).filters,location:n,hasUnsavedChanges:_,isEditingDashboard:x!==Y.n3.CREATE&&this.isEditing,isPreview:this.isPreview,onDashboardFilterChange:this.handleChangeFilter,onCancel:()=>{(0,L.Z5)(a,n),this.setState({modifiedDashboard:{...b??a,filters:a.filters}})},onSave:()=>{const s={...(0,L.qk)(b??a),...(0,L.EK)(n),filters:(0,L.lM)(n)??(b??a).filters};(0,p.Y)(t,e.slug,s).then((t=>{u&&(u(t),this.setState({modifiedDashboard:null})),(0,h.S9)((0,D.t)("Dashboard filters updated")),o.browserHistory.replace((0,R.D)({pathname:`/organizations/${e.slug}/dashboard/${t.id}/`,query:c()(n.query,Object.values(Y.qA))}))}),(()=>{}))}}),(0,H.tZ)(q.M.Provider,{value:{seriesData:E,setData:S},children:(0,H.tZ)(J.ZP,{paramDashboardId:P,dashboard:b??a,organization:e,isEditing:this.isEditing,widgetLimitReached:Z,onUpdate:this.onUpdateWidget,handleUpdateWidgetList:this.handleUpdateWidgetList,handleAddCustomWidget:this.handleAddCustomWidget,router:r,location:n,newWidget:d,onSetNewWidget:l,isPreview:this.isPreview})})]})})})})})]})})})})}render(){const{organization:t}=this.props;return this.isWidgetBuilderRouter?this.renderWidgetBuilder():t.features.includes("dashboards-edit")?this.renderDashboardDetail():this.renderDefaultDashboardDetail()}}xt.displayName="DashboardDetail";const Dt=(0,i.Z)("div",{target:"eyqsajh0"})("display:grid;grid-template-columns:minmax(0, 1fr);grid-row-gap:",(0,Z.Z)(2),";align-items:center;margin-bottom:",(0,Z.Z)(2),";@media (min-width: ",(t=>t.theme.breakpoints.medium),"){grid-template-columns:minmax(0, 1fr) max-content;grid-column-gap:",(0,Z.Z)(2),";height:40px;}"),Zt=(0,F.Z)((0,_.Z)((0,T.Z)(xt)))},"./app/views/performance/data.tsx":(t,e,a)=>{a.d(e,{$r:()=>v,AM:()=>A,C:()=>C,GY:()=>m,V$:()=>y,hj:()=>f,mW:()=>g}),a("../node_modules/core-js/modules/es.array.includes.js"),a("../node_modules/core-js/modules/es.array.push.js");var s=a("./app/components/gridEditable/index.tsx"),i=a("./app/constants/pageFilters.tsx"),r=a("./app/locale.tsx"),o=a("./app/utils/discover/eventView.tsx"),n=a("./app/utils/performance/contexts/metricsEnhancedSetting.tsx"),d=a("./app/utils/performance/vitals/constants.tsx"),l=a("./app/utils/queryString.tsx"),c=a("./app/utils/tokenizeSearch.tsx"),p=a("./app/views/performance/trends/utils.tsx"),h=a("./app/views/performance/landing/utils.tsx"),u=a("./app/views/performance/vitalDetail/utils.tsx");const m="24h",g=300,f=["transaction","project","tpm","p50","p95","failure rate","apdex","users","user misery"],b=["transaction"];let y;!function(t){t.TPM="tpm",t.THROUGHPUT="throughput",t.FAILURE_RATE="failureRate",t.P50="p50",t.P75="p75",t.P95="p95",t.P99="p99",t.LCP="lcp",t.FCP="fcp",t.FID="fid",t.CLS="cls",t.STATUS_BREAKDOWN="statusBreakdown",t.DURATION_DISTRIBUTION="durationDistribution",t.USER_MISERY="userMisery",t.APDEX="apdex",t.APP_START_COLD="appStartCold",t.APP_START_WARM="appStartWarm",t.SLOW_FRAMES="slowFrames",t.FROZEN_FRAMES="frozenFrames",t.STALL_PERCENTAGE="stallPercentage",t.MOST_ISSUES="mostIssues",t.MOST_ERRORS="mostErrors",t.SLOW_HTTP_SPANS="slowHTTPSpans"}(y||(y={}));const w={tpm:()=>(0,r.t)("TPM is the number of recorded transaction events per minute."),throughput:()=>(0,r.t)("Throughput is the number of recorded transaction events per minute."),failureRate:()=>(0,r.t)("Failure rate is the percentage of recorded transactions that had a known and unsuccessful status."),p50:()=>(0,r.t)("p50 indicates the duration that 50% of transactions are faster than."),p75:()=>(0,r.t)("p75 indicates the duration that 75% of transactions are faster than."),p95:()=>(0,r.t)("p95 indicates the duration that 95% of transactions are faster than."),p99:()=>(0,r.t)("p99 indicates the duration that 99% of transactions are faster than."),lcp:()=>(0,r.t)("Largest contentful paint (LCP) is a web vital meant to represent user load times"),fcp:()=>(0,r.t)("First contentful paint (FCP) is a web vital meant to represent user load times"),fid:()=>(0,r.t)("First input delay (FID) is a web vital representing load for the first user interaction on a page."),cls:()=>(0,r.t)("Cumulative layout shift (CLS) is a web vital measuring unexpected visual shifting a user experiences."),statusBreakdown:()=>(0,r.t)("The breakdown of transaction statuses. This may indicate what type of failure it is."),durationDistribution:()=>(0,r.t)("Distribution buckets counts of transactions at specifics times for your current date range"),userMisery:()=>(0,r.t)("User Misery is a score that represents the number of unique users who have experienced load times 4x the project's configured threshold. Adjust project threshold in project performance settings."),apdex:()=>(0,r.t)("Apdex is the ratio of both satisfactory and tolerable response times to all response times. To adjust the tolerable threshold, go to project performance settings."),appStartCold:()=>(0,r.t)("Cold start is a measure of the application start up time from scratch."),appStartWarm:()=>(0,r.t)("Warm start is a measure of the application start up time while still in memory."),slowFrames:()=>(0,r.t)("The count of the number of slow frames in the transaction."),frozenFrames:()=>(0,r.t)("The count of the number of frozen frames in the transaction."),mostErrors:()=>(0,r.t)("Transactions with the most associated errors."),mostIssues:()=>(0,r.t)("The most instances of an issue for a related transaction."),slowHTTPSpans:()=>(0,r.t)("The transactions with the slowest spans of a certain type."),stallPercentage:()=>(0,r.t)("The percentage of the transaction duration in which the application is in a stalled state.")};function v(t,e){return w.hasOwnProperty(e)?w[e](t):""}function x(t,e){const{query:a}=t,s=(0,l.ro)(a[n.tm],""),i=(0,l.ro)(a[n.Ar],"");return e&&(s===n.oR.metricsOnly||i===n.oR.metricsOnly)}function D(t,e){const{query:a}=t,i=a.start&&a.end,n={id:void 0,name:(0,r.t)("Performance"),query:"event.type:transaction",projects:[],fields:["team_key_transaction","transaction","project","tpm()","p50()","p95()","failure_rate()","apdex()","count_unique(user)","count_miserable(user)","user_misery()"],version:2},h=Array(n.fields.length).fill(s.z7);h[n.fields.length-1]="110",n.widths=h,a.statsPeriod||i||(n.range=m),n.orderby=(0,l.ro)(a.sort,"-tpm");const u=(0,l.ro)(a.query,""),g=new c.MY(u),f=x(t,e);if(g.freeText.length>0){const t=f?(0,l.ro)(g.freeText,""):g.freeText.join(" ");f?g.setFilterValues("transaction",[`${t}`],!1):g.setFilterValues("transaction",[`*${t}*`],!1),g.freeText=[]}f&&(g.tokens=g.tokens.filter((t=>t.key&&b.includes(t.key)))),n.query=g.formatString();const y=o.ZP.fromNewQueryWithLocation(n,t);if(y.additionalConditions.addFilterValues("event.type",["transaction"]),a.trendParameter){const e=(0,p.IO)(t,[],[]);d.r9[e.column]&&y.additionalConditions.addFilterValues("has",[e.column])}return y}function Z(t,e){const{query:a}=t,i=a.start&&a.end,n={id:void 0,name:(0,r.t)("Performance"),query:"event.type:transaction",projects:[],fields:["team_key_transaction","transaction","project","transaction.op","http.method","tpm()","p50()","p95()","failure_rate()","apdex()","count_unique(user)","count_miserable(user)","user_misery()"],version:2},d=Array(n.fields.length).fill(s.z7);d[n.fields.length-1]="110",n.widths=d,a.statsPeriod||i||(n.range=m),n.orderby=(0,l.ro)(a.sort,"-tpm");const p=(0,l.ro)(a.query,""),h=new c.MY(p),u=x(t,e);if(h.freeText.length>0){const t=u?(0,l.ro)(h.freeText,""):h.freeText.join(" ");u?h.setFilterValues("transaction",[`${t}`],!1):h.setFilterValues("transaction",[`*${t}*`],!1),h.freeText=[]}n.query=h.formatString();const g=o.ZP.fromNewQueryWithLocation(n,t);return g.additionalConditions.addFilterValues("event.type",["transaction"]),g}function E(t,e,a,n){const{query:d}=t,p=["team_key_transaction","transaction","project","transaction.op","tpm()","p75(measurements.frames_slow_rate)","p75(measurements.frames_frozen_rate)"],h=a.project;if(h.length>0&&h[0]!==i.mP){const t=e.filter((t=>h.includes(parseInt(t.id,10))));t.length>0&&t.every((t=>"react-native"===t.platform))&&p.push("p75(measurements.stall_percentage)")}const u=d.start&&d.end,g={id:void 0,name:(0,r.t)("Performance"),query:"event.type:transaction",projects:[],fields:[...p,"count_unique(user)","count_miserable(user)","user_misery()"],version:2},f=Array(g.fields.length).fill(s.z7);f[g.fields.length-1]="110",g.widths=f,d.statsPeriod||u||(g.range=m),g.orderby=(0,l.ro)(d.sort,"-tpm");const b=(0,l.ro)(d.query,""),y=new c.MY(b),w=x(t,n);if(y.freeText.length>0){const t=w?(0,l.ro)(y.freeText,""):y.freeText.join(" ");w?y.setFilterValues("transaction",[`${t}`],!1):y.setFilterValues("transaction",[`*${t}*`],!1),y.freeText=[]}g.query=y.formatString();const v=o.ZP.fromNewQueryWithLocation(g,t);return v.additionalConditions.addFilterValues("event.type",["transaction"]),v}function S(t,e){const{query:a}=t,i=a.start&&a.end,n={id:void 0,name:(0,r.t)("Performance"),query:"event.type:transaction",projects:[],fields:["team_key_transaction","transaction","project","tpm()","p75(measurements.fcp)","p75(measurements.lcp)","p75(measurements.fid)","p75(measurements.cls)","count_unique(user)","count_miserable(user)","user_misery()"],version:2},d=Array(n.fields.length).fill(s.z7);d[n.fields.length-1]="110",n.widths=d,a.statsPeriod||i||(n.range=m),n.orderby=(0,l.ro)(a.sort,"-tpm");const p=(0,l.ro)(a.query,""),h=new c.MY(p),u=x(t,e);if(h.freeText.length>0){const t=u?(0,l.ro)(h.freeText,""):h.freeText.join(" ");u?h.setFilterValues("transaction",[`${t}`],!1):h.setFilterValues("transaction",[`*${t}*`],!1),h.freeText=[]}n.query=h.formatString();const g=o.ZP.fromNewQueryWithLocation(n,t);return g.additionalConditions.addFilterValues("event.type",["transaction"]),g.additionalConditions.addFilterValues("transaction.op",["pageload"]),g}function P(t,e){const{query:a}=t,i=a.start&&a.end,n={id:void 0,name:(0,r.t)("Performance"),query:"event.type:transaction",projects:[],fields:["team_key_transaction","transaction","project","transaction.op","tpm()","p50(transaction.duration)","p75(transaction.duration)","p95(transaction.duration)","count_unique(user)","count_miserable(user)","user_misery()"],version:2},d=Array(n.fields.length).fill(s.z7);d[n.fields.length-1]="110",n.widths=d,a.statsPeriod||i||(n.range=m),n.orderby=(0,l.ro)(a.sort,"-tpm");const p=(0,l.ro)(a.query,""),h=new c.MY(p),u=x(t,e);if(h.freeText.length>0&&!u){const t=u?(0,l.ro)(h.freeText,""):h.freeText.join(" ");u?h.setFilterValues("transaction",[`${t}`],!1):h.setFilterValues("transaction",[`*${t}*`],!1),h.freeText=[]}n.query=h.formatString();const g=o.ZP.fromNewQueryWithLocation(n,t);return g.additionalConditions.addFilterValues("event.type",["transaction"]),g}function C(t,e){let{isTrends:a=!1,withStaticFilters:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=D(t,s);if(a)return i;const r=(0,h.Q_)(t,e,i);switch(r?.field){case h.BY.FRONTEND_PAGELOAD:return S(t,s);case h.BY.FRONTEND_OTHER:return P(t,s);case h.BY.BACKEND:return Z(t,s);case h.BY.MOBILE:return E(t,e,i,s);default:return i}}function A(t){const{query:e}=t,a=(0,u.iF)(t),s=e.start&&e.end,i={id:void 0,name:(0,r.t)("Vitals Performance Details"),query:"event.type:transaction",projects:[],fields:["team_key_transaction","transaction","project","count_unique(user)","count()",`p50(${a})`,`p75(${a})`,`p95(${a})`,(0,u.Ve)(a),(0,u.q4)(a)],version:2,yAxis:[`p75(${a})`]};e.statsPeriod||s||(i.range=m),i.orderby=(0,l.ro)(e.sort,"-count");const n=(0,l.ro)(e.query,""),d=new c.MY(n);d.freeText.length>0&&(d.setFilterValues("transaction",[`*${d.freeText.join(" ")}*`],!1),d.freeText=[]),d.setFilterValues("event.type",["transaction"]),i.query=d.formatString();const p=o.ZP.fromNewQueryWithLocation(i,t);return p.additionalConditions.addFilterValues("event.type",["transaction"]),p.additionalConditions.addFilterValues("has",[a]),p}},"./app/views/performance/landing/metricsDataSwitcherAlert.tsx":(t,e,a)=>{a.d(e,{v:()=>f}),a("../node_modules/core-js/modules/es.array.includes.js");var s=a("../node_modules/react/index.js"),i=a("./app/actionCreators/pageFilters.tsx"),r=a("./app/components/alert.tsx"),o=a("./app/components/globalSdkUpdateAlert.tsx"),n=a("./app/components/links/externalLink.tsx"),d=a("./app/components/links/link.tsx"),l=a("./app/components/sidebar/types.tsx"),c=a("./app/locale.tsx"),p=a("./app/stores/sidebarPanelStore.tsx"),h=a("./app/views/performance/utils.tsx"),u=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const m=["javascript","node","python","ruby","native","react-native","dotnet","unity","flutter","dart","java","android"],g=["javascript.cordova","javascript.nextjs","native.minidumps"];function f(t){const e=t.organization.features.includes("performance-mep-bannerless-ui"),a=(0,s.useCallback)((()=>{p.Z.activatePanel(l.z.Broadcasts)}),[]),f=(0,s.useMemo)((()=>{const e=(0,h.bY)(t.location,t.projects);if(e.length<1)return null;const a=e[0];if(g.includes(a))return null;const s=m.find((t=>a.includes(t)));return s?`https://docs.sentry.io/platforms/${s}/enriching-events/transaction-name/`:null}),[t.location,t.projects]),b=(0,s.useCallback)((()=>{(0,i.id)(t.compatibleProjects||[],t.router)}),[t.compatibleProjects,t.router]);if(!t.shouldNotifyUnnamedTransactions&&!t.shouldWarnIncompatibleSDK)return(0,u.tZ)(o._,{});const y=(0,h.uq)(t);if(e)return null;if(t.shouldWarnIncompatibleSDK){const e=(0,u.tZ)(d.Z,{to:"",onClick:a,children:(0,c.t)("update your SDK version")});return(0,h.rL)(t.eventView)?0===(t.compatibleProjects??[]).length?(0,u.tZ)(r.bZ,{type:"warning",showIcon:!0,"data-test-id":"landing-mep-alert-multi-project-all-incompatible",children:(0,c._N)("A few projects are incompatible with dynamic sampling. To enable this feature [updateSDK].",{updateSDK:e})}):(0,u.tZ)(r.bZ,{type:"warning",showIcon:!0,"data-test-id":"landing-mep-alert-multi-project-incompatible",children:(0,c._N)("A few projects are incompatible with dynamic sampling. You can either [updateSDK] or [onlyViewCompatible]",{updateSDK:e,onlyViewCompatible:(0,u.tZ)(d.Z,{to:"",onClick:b,children:(0,c.t)("only view compatible projects.")})})}):(0,u.tZ)(r.bZ,{type:"warning",showIcon:!0,"data-test-id":"landing-mep-alert-single-project-incompatible",children:(0,c._N)("Your project has an outdated SDK which is incompatible with dynamic sampling. To enable this feature [updateSDK].",{updateSDK:e})})}if(t.shouldNotifyUnnamedTransactions){const t=(0,u.tZ)(d.Z,{to:y,children:(0,c.t)("open them in Discover.")});return f?(0,u.tZ)(r.bZ,{type:"warning",showIcon:!0,"data-test-id":"landing-mep-alert-unnamed-discover-or-set",children:(0,c._N)("You have some unparameterized transactions which are incompatible with dynamic sampling. You can either [setNames] or [discover]",{setNames:(0,u.tZ)(n.Z,{href:f,children:(0,c.t)("set names manually")}),discover:t})}):(0,u.tZ)(r.bZ,{type:"warning",showIcon:!0,"data-test-id":"landing-mep-alert-unnamed-discover",children:(0,c._N)("You have some unparameterized transactions which are incompatible with dynamic sampling. You can [discover]",{discover:t})})}return null}},"./app/views/performance/landing/utils.tsx":(t,e,a)=>{a.d(e,{BY:()=>u,Cf:()=>f,Lx:()=>m,NJ:()=>w,Oo:()=>v,Q_:()=>y,TT:()=>b,ZR:()=>D,hv:()=>x,kP:()=>g}),a("../node_modules/core-js/modules/es.array.push.js"),a("../node_modules/core-js/modules/es.array.includes.js");var s=a("../node_modules/react-router/es/index.js"),i=a("../node_modules/lodash/omit.js"),r=a.n(i),o=a("./app/locale.tsx"),n=a("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),d=a("./app/utils/formatters.tsx"),l=a("./app/utils/queryString.tsx"),c=a("./app/utils/tokenizeSearch.tsx"),p=a("./app/views/performance/data.tsx"),h=a("./app/views/performance/utils.tsx");let u;!function(t){t.ALL="all",t.FRONTEND_PAGELOAD="frontend_pageload",t.FRONTEND_OTHER="frontend_other",t.BACKEND="backend",t.MOBILE="mobile"}(u||(u={}));const m=[{label:(0,o.t)("All Transactions"),field:u.ALL},{label:(0,o.t)("Web Vitals"),field:u.FRONTEND_PAGELOAD},{label:(0,o.t)("Frontend"),field:u.FRONTEND_OTHER},{label:(0,o.t)("Backend"),field:u.BACKEND},{label:(0,o.t)("Mobile"),field:u.MOBILE}];function g(t,e){const{eventView:a,location:i}=e,r=new c.MY(a.query);r.addFilterValues("!transaction",[`${t}`]),s.browserHistory.push({pathname:i.pathname,query:{...i.query,cursor:void 0,query:r.formatString()}})}function f(t){const e=(0,l.ro)(t?.query?.landingDisplay);return m.find((t=>{let{field:a}=t;return a===e}))}function b(t,e){const a=v(t,e);return m.find((t=>{let{field:e}=t;return e===a}))||m[0]}function y(t,e,a){return f(t)||b(e,a)}function w(t,e,a,i,o){const d=(0,l.ro)(e.query.query,""),p=new c.MY(d);p.removeFilter("transaction.op");const h={...r()(e.query,["landingDisplay","sort"]),query:p.formatString()};delete h.left,delete h.right;const u=v(a,o),m=y(e,a,o).field,g=u===t?{...h}:{...h,landingDisplay:t};(0,n.Z)("performance_views.landingv3.display_change",{organization:i,change_to_display:t,default_display:u,current_display:m,is_default:u===m}),s.browserHistory.push({pathname:e.pathname,query:g})}function v(t,e){if(!e)return u.ALL;const a=e.project;return{[h.iy.ANY]:u.ALL,[h.iy.FRONTEND]:u.FRONTEND_PAGELOAD,[h.iy.BACKEND]:u.BACKEND,[h.iy.MOBILE]:u.MOBILE}[(0,h.Bh)(t,a)]??u.ALL}const x=t=>({"p75(transaction.duration)":{title:(0,o.t)("Duration (p75)"),tooltip:(0,p.$r)(t,p.V$.P75),formatter:t=>(0,d.g9)(t/1e3,t>=1e3?3:0,!0)},"tpm()":{title:(0,o.t)("Throughput"),tooltip:(0,p.$r)(t,p.V$.THROUGHPUT),formatter:d.Du},"failure_rate()":{title:(0,o.t)("Failure Rate"),tooltip:(0,p.$r)(t,p.V$.FAILURE_RATE),formatter:t=>(0,d.rl)(t,2)},"apdex()":{title:(0,o.t)("Apdex"),tooltip:(0,p.$r)(t,p.V$.APDEX),formatter:t=>(0,d.$1)(t,4)},"p75(measurements.frames_slow_rate)":{title:(0,o.t)("Slow Frames (p75)"),tooltip:(0,p.$r)(t,p.V$.SLOW_FRAMES),formatter:t=>(0,d.rl)(t,2)},"p75(measurements.frames_frozen_rate)":{title:(0,o.t)("Frozen Frames (p75)"),tooltip:(0,p.$r)(t,p.V$.FROZEN_FRAMES),formatter:t=>(0,d.rl)(t,2)},"p75(measurements.app_start_cold)":{title:(0,o.t)("Cold Start (p75)"),tooltip:(0,p.$r)(t,p.V$.APP_START_COLD),formatter:t=>(0,d.g9)(t/1e3,t>=1e3?3:0,!0)},"p75(measurements.app_start_warm)":{title:(0,o.t)("Warm Start (p75)"),tooltip:(0,p.$r)(t,p.V$.APP_START_WARM),formatter:t=>(0,d.g9)(t/1e3,t>=1e3?3:0,!0)},"p75(measurements.stall_percentage)":{title:(0,o.t)("Stall Percentage (p75)"),tooltip:(0,p.$r)(t,p.V$.STALL_PERCENTAGE),formatter:t=>(0,d.rl)(t,2)}});function D(t){return Boolean(t.getFields().find((t=>t.includes("measurements.stall_percentage"))))}},"./app/views/performance/vitalDetail/utils.tsx":(t,e,a)=>{a.d(e,{EX:()=>_,MN:()=>m,Np:()=>b,SP:()=>g,Uy:()=>v,Ve:()=>x,W0:()=>P,a7:()=>S,cD:()=>A,eE:()=>u,fL:()=>f,i4:()=>y,iF:()=>w,il:()=>E,jo:()=>Z,q4:()=>D,vk:()=>C});var s=a("./app/components/charts/components/markLine.tsx"),i=a("./app/components/charts/utils.tsx"),r=a("./app/icons/index.tsx"),o=a("./app/locale.tsx"),n=a("./app/utils/discover/charts.tsx"),d=a("./app/utils/discover/fields.tsx"),l=a("./app/utils/fields/index.ts"),c=a("./app/utils/performance/vitals/constants.tsx"),p=a("./app/utils/queryString.tsx"),h=a("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const u={[l.Zl.FP]:3e3,[l.Zl.FCP]:3e3,[l.Zl.LCP]:4e3,[l.Zl.FID]:300,[l.Zl.CLS]:.25},m={[l.Zl.FP]:1e3,[l.Zl.FCP]:1e3,[l.Zl.LCP]:2500,[l.Zl.FID]:100,[l.Zl.CLS]:.1};let g;!function(t){t.POOR="Poor",t.MEH="Meh",t.GOOD="Good"}(g||(g={}));const f={[g.POOR]:"red300",[g.MEH]:"yellow300",[g.GOOD]:"green300"},b={[g.POOR]:(0,h.tZ)(r.pY,{color:f[g.POOR]}),[g.MEH]:(0,h.tZ)(r.tC,{color:f[g.MEH]}),[g.GOOD]:(0,h.tZ)(r.O1,{color:f[g.GOOD]})};function y(t){let{orgSlug:e,vitalName:a,projectID:s,query:i}=t;const r=function(t){let{orgSlug:e}=t;return`/organizations/${e}/performance/vitaldetail/`}({orgSlug:e});return{pathname:r,query:{vitalName:a,project:s,environment:i.environment,statsPeriod:i.statsPeriod,start:i.start,end:i.end,query:i.query}}}function w(t){const e=(0,p.ro)(t.query.vitalName);return Object.values(l.Zl).find((t=>t===e))||l.Zl.LCP}function v(t){return t===l.Zl.CLS?(0,o.t)("CLS p75"):(0,o.t)("Duration p75")}function x(t){const e=u[t];return`compare_numeric_aggregate(${(0,d.LY)(`p75(${t})`)},greater,${e})`}function D(t){const e=m[t];return`compare_numeric_aggregate(${(0,d.LY)(`p75(${t})`)},greater,${e})`}const Z={[l.Zl.FCP]:(0,o.t)("First Contentful Paint"),[l.Zl.CLS]:(0,o.t)("Cumulative Layout Shift"),[l.Zl.FID]:(0,o.t)("First Input Delay"),[l.Zl.LCP]:(0,o.t)("Largest Contentful Paint")},E={[l.Zl.FCP]:(0,o.t)("First Contentful Paint (FCP) measures the amount of time the first content takes to render in the viewport. Like FP, this could also show up in any form from the document object model (DOM), such as images, SVGs, or text blocks. At the moment, there is support for FCP in the following browsers:"),[l.Zl.CLS]:(0,o.t)("Cumulative Layout Shift (CLS) is the sum of individual layout shift scores for every unexpected element shift during the rendering process. Imagine navigating to an article and trying to click a link before the page finishes loading. Before your cursor even gets there, the link may have shifted down due to an image rendering. Rather than using duration for this Web Vital, the CLS score represents the degree of disruptive and visually unstable shifts. At the moment, there is support for CLS in the following browsers:"),[l.Zl.FID]:(0,o.t)("First Input Delay (FID) measures the response time when the user tries to interact with the viewport. Actions maybe include clicking a button, link or other custom Javascript controller. It is key in helping the user determine if a page is usable or not. At the moment, there is support for FID in the following browsers:"),[l.Zl.LCP]:(0,o.t)("Largest Contentful Paint (LCP) measures the render time for the largest content to appear in the viewport. This may be in any form from the document object model (DOM), such as images, SVGs, or text blocks. Itâ€™s the largest pixel area in the viewport, thus most visually defining. LCP helps developers understand how long it takes to see the main content on the page. At the moment, there is support for LCP in the following browsers:")},S={[l.Zl.FCP]:"FCP",[l.Zl.CLS]:"CLS",[l.Zl.FID]:"FID",[l.Zl.LCP]:"LCP"},P={[l.Zl.FCP]:"custom",[l.Zl.CLS]:"cls",[l.Zl.FID]:"fid",[l.Zl.LCP]:"lcp"};function C(t){let e=-1/0;for(const{data:a}of t)for(const t of a)e=Math.max(e,t.value);return e}const A={[l.Zl.LCP]:[c.AR.CHROME,c.AR.EDGE,c.AR.OPERA],[l.Zl.FID]:[c.AR.CHROME,c.AR.EDGE,c.AR.OPERA,c.AR.FIREFOX,c.AR.SAFARI,c.AR.IE],[l.Zl.CLS]:[c.AR.CHROME,c.AR.EDGE,c.AR.OPERA],[l.Zl.FP]:[c.AR.CHROME,c.AR.EDGE,c.AR.OPERA],[l.Zl.FCP]:[c.AR.CHROME,c.AR.EDGE,c.AR.OPERA,c.AR.FIREFOX,c.AR.SAFARI],[l.Zl.TTFB]:[c.AR.CHROME,c.AR.EDGE,c.AR.OPERA,c.AR.FIREFOX,c.AR.SAFARI,c.AR.IE]};function _(t){let{theme:e,location:a,vital:r,yAxis:c}=t;const h="false"!==(0,p.ro)(a.query.utc),g=u[r],f=m[r];return{vitalPoor:g,vitalMeh:f,legend:{right:10,top:0,selected:(0,i.RI)(a)},chartOptions:{grid:{left:"5px",right:"10px",top:"35px",bottom:"0px"},seriesOptions:{showSymbol:!1},tooltip:{trigger:"axis",valueFormatter:(t,e)=>(0,n.CX)(t,(0,d.Px)(r===l.Zl.CLS?e:c))},yAxis:{min:0,max:g,axisLabel:{color:e.chartLabel,showMaxLabel:!1,formatter:t=>(0,n.gu)(t,(0,d.Px)(c))}}},markLines:[{seriesName:"Thresholds",type:"line",data:[],markLine:(0,s.Z)({silent:!0,lineStyle:{color:e.red300,type:"dashed",width:1.5},label:{show:!0,position:"insideEndTop",formatter:(0,o.t)("Poor")},data:[{yAxis:g}]})},{seriesName:"Thresholds",type:"line",data:[],markLine:(0,s.Z)({silent:!0,lineStyle:{color:e.yellow300,type:"dashed",width:1.5},label:{show:!0,position:"insideEndTop",formatter:(0,o.t)("Meh")},data:[{yAxis:f}]})}],utc:h}}}}]);
//# sourceMappingURL=../sourcemaps/app_views_dashboardsV2_detail_tsx.5a9d926ac6e1c30bb161bb807c71f3f1.js.map