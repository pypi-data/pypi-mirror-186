"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_profiling_profileSummary_index_tsx"],{"./app/components/profiling/breadcrumb.tsx":(e,t,r)=>{r.d(t,{a:()=>u}),r("../node_modules/core-js/modules/es.error.cause.js");var o=r("../node_modules/react/index.js"),a=r("../node_modules/lodash/omit.js"),s=r.n(a),n=r("./app/components/breadcrumbs.tsx"),i=r("./app/locale.tsx"),l=r("./app/utils/profiling/routes.tsx"),p=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(e){let{organization:t,trails:r}=e;const a=(0,o.useMemo)((()=>r.map((e=>function(e,t){let{organization:r}=t;switch(e.type){case"landing":return{to:(0,l.XR)({query:s()(e.payload.query,["cursor","query"]),orgSlug:r.slug}),label:(0,i.t)("Profiling"),preservePageFilters:!0};case"profile summary":return{to:(0,l.R0)({query:s()(e.payload.query,["cursor","query"]),orgSlug:r.slug,projectSlug:e.payload.projectSlug,transaction:e.payload.transaction}),label:(0,i.t)("Profile Summary"),preservePageFilters:!0};case"flamechart":return{to:("flamechart"===e.payload.tab?l.TH:l.Qy)({query:e.payload.query,orgSlug:r.slug,projectSlug:e.payload.projectSlug,profileId:e.payload.profileId}),label:e.payload.transaction,preservePageFilters:!0};default:throw new Error(`Unknown breadcrumb type: ${JSON.stringify(e)}`)}}(e,{organization:t})))),[t,r]);return(0,p.tZ)(n.Z,{crumbs:a})}u.displayName="Breadcrumb"},"./app/views/profiling/profileSummary/index.tsx":(e,t,r)=>{r.r(t),r.d(t,{default:()=>T});var o=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(r("../node_modules/core-js/modules/es.array.push.js"),r("../node_modules/react/index.js")),s=r("../node_modules/react-router/es/index.js"),n=r("./app/components/datePageFilter.tsx"),i=r("./app/components/environmentPageFilter.tsx"),l=r("./app/components/idBadge/index.tsx"),p=r("./app/components/layouts/thirds.tsx"),u=r("./app/components/noProjectMessage.tsx"),c=r("./app/components/organizations/pageFilterBar.tsx"),d=r("./app/components/organizations/pageFilters/container.tsx"),m=r("./app/components/profiling/breadcrumb.tsx"),g=r("./app/components/sentryDocumentTitle.tsx"),y=r("./app/components/smartSearchBar/index.tsx"),x=r("./app/constants/index.tsx"),f=r("./app/locale.tsx"),h=r("./app/styles/space.tsx"),j=r("./app/utils.tsx"),Z=r("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),b=r("./app/utils/discover/fields.tsx"),S=r("./app/utils/profiling/hooks/useProfileFilters.tsx"),q=r("./app/utils/queryString.tsx"),v=r("./app/utils/tokenizeSearch.tsx"),P=r("./app/utils/useOrganization.tsx"),w=r("./app/utils/useProjects.tsx"),_=r("./app/utils/withPageFilters.tsx"),F=r("./app/views/profiling/profileSummary/content.tsx"),z=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function B(e){const t=(0,P.Z)(),{projects:r}=(0,w.Z)({slugs:(0,j.ri)(e.params.projectId)?[e.params.projectId]:[]});(0,a.useEffect)((()=>{(0,Z.Z)("profiling_views.profile_summary",{organization:t})}),[t]);const o=1===r.length?r[0]:null,h=(0,q.ro)(e.location.query.transaction),_=(0,a.useMemo)((()=>(0,q.ro)(e.location.query.query,"")),[e.location.query.query]),B=(0,a.useMemo)((()=>{const e=new v.MY(_);return(0,j.ri)(h)&&e.setFilterValues("transaction",[h]),Object.keys(e.filters).forEach((t=>{(0,b.h1)(t)&&e.removeFilter(t)})),e.formatString()}),[_,h]),T=(0,a.useMemo)((()=>{const e=new v.MY("");return(0,j.ri)(h)&&e.setFilterValues("transaction_name",[h]),e.formatString()}),[h]),M=(0,S.J)({query:T,selection:e.selection}),X=(0,a.useCallback)((t=>{s.browserHistory.push({...e.location,query:{...e.location.query,query:t||void 0,cursor:void 0}})}),[e.location]);return(0,z.tZ)(g.Z,{title:(0,f.t)("Profiling â€” Profile Summary"),orgSlug:t.slug,children:(0,z.tZ)(d.Z,{shouldForceProject:(0,j.ri)(o),forceProject:o,specificProjectSlugs:(0,j.ri)(o)?[o.slug]:[],children:(0,z.tZ)(u.Z,{organization:t,children:(0,z.tZ)(p.T3,{children:o&&h&&(0,z.BX)(a.Fragment,{children:[(0,z.tZ)(p.h4,{children:(0,z.BX)(p.oB,{children:[(0,z.tZ)(m.a,{organization:t,trails:[{type:"landing",payload:{query:e.location.query}},{type:"profile summary",payload:{projectSlug:o.slug,query:e.location.query,transaction:h}}]}),(0,z.BX)(p.Dx,{children:[o?(0,z.tZ)(l.Z,{project:o,avatarSize:28,hideName:!0,avatarProps:{hasTooltip:!0,tooltip:o.slug}}):null,h]})]})}),(0,z.tZ)(p.uT,{children:(0,z.BX)(p.or,{fullWidth:!0,children:[(0,z.BX)(k,{children:[(0,z.BX)(c.Z,{condensed:!0,children:[(0,z.tZ)(i.Z,{}),(0,z.tZ)(n.Z,{alignDropdown:"left"})]}),(0,z.tZ)(y.Z,{organization:t,hasRecentSearches:!0,searchSource:"profile_summary",supportedTags:M,query:_,onSearch:X,maxQueryLength:x.dI})]}),(0,z.tZ)(F.J,{location:e.location,project:o,selection:e.selection,transaction:h,query:B})]})})]})})})})})}B.displayName="ProfileSummaryPage";const k=(0,o.Z)("div",{target:"e1dzn5ix0"})("display:grid;gap:",(0,h.Z)(2),";grid-template-columns:min-content auto;margin-bottom:",(0,h.Z)(2),";"),T=(0,_.Z)(B)}}]);
//# sourceMappingURL=../sourcemaps/app_views_profiling_profileSummary_index_tsx.d619368d6be3ecdbbd9ae7a4ad3c05c3.js.map