{"version":3,"file":"chunks/app_views_performance_transactionSummary_transactionReplays_index_tsx-node_modules_downsample-25e16b.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/views/performance/transactionSummary/transactionReplays/content.tsx","webpack:///./app/views/performance/transactionSummary/transactionReplays/index.tsx","webpack:///./app/views/performance/transactionSummary/transactionReplays/useReplaysFromTransaction.tsx","webpack:///../node_modules/downsample/methods/ASAP.js"],"sourcesContent":["import {useTheme} from '@emotion/react';\nimport {Location} from 'history';\nimport first from 'lodash/first';\n\nimport * as Layout from 'sentry/components/layouts/thirds';\nimport Pagination from 'sentry/components/pagination';\nimport type {Organization} from 'sentry/types';\nimport EventView from 'sentry/utils/discover/eventView';\nimport useMedia from 'sentry/utils/useMedia';\nimport ReplayTable from 'sentry/views/replays/replayTable';\nimport {ReplayColumns} from 'sentry/views/replays/replayTable/types';\nimport type {ReplayListLocationQuery} from 'sentry/views/replays/types';\n\nimport type {SpanOperationBreakdownFilter} from '../filter';\nimport {EventsDisplayFilterName, PercentileValues} from '../transactionEvents/utils';\n\nimport type {ReplayListRecordWithTx} from './useReplaysFromTransaction';\n\ntype Props = {\n  eventView: EventView;\n  eventsDisplayFilterName: EventsDisplayFilterName;\n  isFetching: boolean;\n  location: Location<ReplayListLocationQuery>;\n  organization: Organization;\n  pageLinks: string | null;\n  replays: ReplayListRecordWithTx[];\n  spanOperationBreakdownFilter: SpanOperationBreakdownFilter;\n  percentileValues?: PercentileValues;\n};\n\nfunction ReplaysContent({eventView, isFetching, pageLinks, replays}: Props) {\n  const theme = useTheme();\n  const hasRoomForColumns = useMedia(`(min-width: ${theme.breakpoints.small})`);\n\n  return (\n    <Layout.Main fullWidth>\n      <ReplayTable\n        fetchError={undefined}\n        isFetching={isFetching}\n        replays={replays}\n        sort={first(eventView.sorts) || {field: 'started_at', kind: 'asc'}}\n        visibleColumns={[\n          ReplayColumns.session,\n          ...(hasRoomForColumns\n            ? [ReplayColumns.slowestTransaction, ReplayColumns.startedAt]\n            : []),\n          ReplayColumns.duration,\n          ReplayColumns.countErrors,\n          ReplayColumns.activity,\n        ]}\n      />\n      <Pagination pageLinks={pageLinks} />\n    </Layout.Main>\n  );\n}\n\nexport default ReplaysContent;\n","import {Fragment, useEffect} from 'react';\nimport {Location} from 'history';\n\nimport Feature from 'sentry/components/acl/feature';\nimport {Alert} from 'sentry/components/alert';\nimport * as Layout from 'sentry/components/layouts/thirds';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport {t} from 'sentry/locale';\nimport type {Organization, Project} from 'sentry/types';\nimport EventView from 'sentry/utils/discover/eventView';\nimport {\n  SPAN_OP_BREAKDOWN_FIELDS,\n  SPAN_OP_RELATIVE_BREAKDOWN_FIELD,\n} from 'sentry/utils/discover/fields';\nimport {decodeScalar} from 'sentry/utils/queryString';\nimport {MutableSearch} from 'sentry/utils/tokenizeSearch';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport withProjects from 'sentry/utils/withProjects';\nimport type {ReplayListLocationQuery} from 'sentry/views/replays/types';\n\nimport {decodeFilterFromLocation, SpanOperationBreakdownFilter} from '../filter';\nimport PageLayout, {ChildProps} from '../pageLayout';\nimport Tab from '../tabs';\nimport {decodeEventsDisplayFilterFromLocation} from '../transactionEvents/utils';\n\nimport ReplaysContent from './content';\nimport useReplaysFromTransaction from './useReplaysFromTransaction';\n\ntype Props = {\n  location: Location<ReplayListLocationQuery>;\n  organization: Organization;\n  projects: Project[];\n};\n\nfunction renderNoAccess() {\n  return (\n    <Layout.Page withPadding>\n      <Alert type=\"warning\">{t(\"You don't have access to this feature\")}</Alert>\n    </Layout.Page>\n  );\n}\n\nfunction TransactionReplays(props: Props) {\n  const {location, organization, projects} = props;\n\n  return (\n    <Feature\n      features={['session-replay-ui']}\n      organization={organization}\n      renderDisabled={renderNoAccess}\n    >\n      <PageLayout\n        location={location}\n        organization={organization}\n        projects={projects}\n        tab={Tab.Replays}\n        getDocumentTitle={getDocumentTitle}\n        generateEventView={generateEventView}\n        childComponent={ReplaysContentWrapper}\n      />\n    </Feature>\n  );\n}\n\nfunction ReplaysContentWrapper({\n  eventView: eventsWithReplaysView,\n  location,\n  organization,\n  setError,\n}: ChildProps) {\n  const eventsDisplayFilterName = decodeEventsDisplayFilterFromLocation(location);\n  const spanOperationBreakdownFilter = decodeFilterFromLocation(location);\n\n  const {eventView, replays, pageLinks, isFetching, fetchError} =\n    useReplaysFromTransaction({\n      eventsWithReplaysView,\n      location,\n      organization,\n      eventsDisplayFilterName,\n      spanOperationBreakdownFilter,\n    });\n\n  useEffect(() => {\n    setError(fetchError?.message);\n  }, [setError, fetchError]);\n\n  if (isFetching || !eventView) {\n    return (\n      <Layout.Main fullWidth>\n        <LoadingIndicator />\n      </Layout.Main>\n    );\n  }\n\n  return replays ? (\n    <ReplaysContent\n      eventView={eventView}\n      isFetching={isFetching}\n      location={location}\n      organization={organization}\n      pageLinks={pageLinks}\n      replays={replays}\n      eventsDisplayFilterName={eventsDisplayFilterName}\n      spanOperationBreakdownFilter={spanOperationBreakdownFilter}\n    />\n  ) : (\n    <Fragment>{null}</Fragment>\n  );\n}\n\nfunction getDocumentTitle(transactionName: string): string {\n  const hasTransactionName =\n    typeof transactionName === 'string' && String(transactionName).trim().length > 0;\n\n  if (hasTransactionName) {\n    return [String(transactionName).trim(), t('Replays')].join(' \\u2014 ');\n  }\n\n  return [t('Summary'), t('Replays')].join(' \\u2014 ');\n}\n\nfunction generateEventView({\n  location,\n  transactionName,\n}: {\n  location: Location;\n  transactionName: string;\n}) {\n  const fields = ['replayId', 'count()', 'transaction.duration', 'trace', 'timestamp'];\n\n  const breakdown = decodeFilterFromLocation(location);\n  if (breakdown !== SpanOperationBreakdownFilter.None) {\n    fields.push(`spans.${breakdown}`);\n  } else {\n    fields.push(...SPAN_OP_BREAKDOWN_FIELDS, SPAN_OP_RELATIVE_BREAKDOWN_FIELD);\n  }\n\n  const query = decodeScalar(location.query.query, '');\n  const conditions = new MutableSearch(query);\n  conditions.setFilterValues('event.type', ['transaction']);\n  conditions.addFilterValues('transaction', [transactionName]);\n  conditions.addFilterValues('!replayId', ['']);\n\n  return EventView.fromNewQueryWithLocation(\n    {\n      id: '',\n      name: `Replay events within a transaction`,\n      version: 2,\n      fields,\n      query: conditions.formatString(),\n      projects: [],\n      orderby: decodeScalar(location.query.sort, '-timestamp'),\n    },\n    location\n  );\n}\n\nexport default withProjects(withOrganization(TransactionReplays));\n","import {useCallback, useEffect, useState} from 'react';\nimport * as Sentry from '@sentry/react';\nimport {Location} from 'history';\n\nimport type {Client} from 'sentry/api';\nimport type {Organization} from 'sentry/types';\nimport {TableData, TableDataRow} from 'sentry/utils/discover/discoverQuery';\nimport EventView, {fromSorts} from 'sentry/utils/discover/eventView';\nimport {doDiscoverQuery} from 'sentry/utils/discover/genericDiscoverQuery';\nimport {decodeScalar} from 'sentry/utils/queryString';\nimport fetchReplayList, {\n  DEFAULT_SORT,\n  REPLAY_LIST_FIELDS,\n} from 'sentry/utils/replays/fetchReplayList';\nimport {MutableSearch} from 'sentry/utils/tokenizeSearch';\nimport useApi from 'sentry/utils/useApi';\nimport {ReplayListRecord} from 'sentry/views/replays/types';\n\nexport type ReplayListRecordWithTx = ReplayListRecord & {\n  txEvent: {[x: string]: any};\n};\n\nimport {SpanOperationBreakdownFilter} from '../filter';\nimport {\n  EventsDisplayFilterName,\n  getEventsFilterOptions,\n  getPercentilesEventView,\n  mapPercentileValues,\n  PercentileValues,\n} from '../transactionEvents/utils';\n\ntype State = Awaited<ReturnType<typeof fetchReplayList>> & {\n  eventView: undefined | EventView;\n  isFetching: boolean;\n  replays?: ReplayListRecordWithTx[];\n};\n\ntype Options = {\n  eventsDisplayFilterName: EventsDisplayFilterName;\n  eventsWithReplaysView: EventView;\n  location: Location;\n  organization: Organization;\n  spanOperationBreakdownFilter: SpanOperationBreakdownFilter;\n};\n\nfunction useReplaysFromTransaction({\n  eventsWithReplaysView,\n  location,\n  organization,\n  spanOperationBreakdownFilter,\n  eventsDisplayFilterName,\n}: Options) {\n  const api = useApi();\n  const [data, setData] = useState<State>({\n    fetchError: undefined,\n    isFetching: true,\n    pageLinks: null,\n    replays: [],\n    eventView: undefined,\n  });\n\n  const load = useCallback(async () => {\n    const percentilesView = getPercentilesEventView(eventsWithReplaysView.clone());\n    const percentileData = await fetchPercentiles({\n      api,\n      eventView: percentilesView,\n      location,\n      organization,\n    });\n    const percentiles = mapPercentileValues(percentileData);\n    const filteredEventView = getFilteredEventView({\n      eventView: eventsWithReplaysView,\n      percentiles,\n      spanOperationBreakdownFilter,\n      eventsDisplayFilterName,\n    });\n\n    const eventsData = await fetchEventsWithReplay({\n      api,\n      eventView: filteredEventView ?? eventsWithReplaysView,\n      location,\n      organization,\n    });\n\n    const replayIds = eventsData?.map(row => row.replayId);\n\n    const eventView = EventView.fromNewQueryWithLocation(\n      {\n        id: '',\n        name: 'Replays within a transaction',\n        version: 2,\n        fields: REPLAY_LIST_FIELDS,\n        projects: [],\n        query: `id:[${String(replayIds)}]`,\n      },\n      location\n    );\n\n    eventView.sorts = fromSorts(decodeScalar(location.query.sort, DEFAULT_SORT));\n\n    const listData = await fetchReplayList({\n      api,\n      eventView,\n      location,\n      organization,\n    });\n\n    const replays: ReplayListRecordWithTx[] | undefined = listData.replays?.map(\n      replay => {\n        let slowestEvent: TableDataRow | undefined;\n        for (const event of eventsData ?? []) {\n          // attach the slowest tx event to the replay\n          if (\n            event.replayId === replay.id &&\n            (!slowestEvent ||\n              event['transaction.duration'] > slowestEvent['transaction.duration'])\n          ) {\n            slowestEvent = event;\n          }\n        }\n\n        return {\n          ...replay,\n          txEvent: slowestEvent ?? {},\n        };\n      }\n    );\n\n    setData({\n      ...listData,\n      eventView,\n      isFetching: false,\n      replays,\n    });\n  }, [\n    api,\n    eventsWithReplaysView,\n    location,\n    organization,\n    spanOperationBreakdownFilter,\n    eventsDisplayFilterName,\n  ]);\n\n  useEffect(() => {\n    load();\n  }, [load]);\n\n  return data;\n}\n\nasync function fetchEventsWithReplay({\n  api,\n  eventView,\n  location,\n  organization,\n}: {\n  api: Client;\n  eventView: EventView;\n  location: Location;\n  organization: Organization;\n}) {\n  try {\n    const [data] = await doDiscoverQuery<TableData>(\n      api,\n      `/organizations/${organization.slug}/events/`,\n      eventView.getEventsAPIPayload(location)\n    );\n\n    return data.data;\n  } catch (err) {\n    Sentry.captureException(err);\n    return null;\n  }\n}\n\nasync function fetchPercentiles({\n  api,\n  eventView,\n  location,\n  organization,\n}: {\n  api: Client;\n  eventView: EventView;\n  location: Location;\n  organization: Organization;\n}) {\n  try {\n    const [data] = await doDiscoverQuery<TableData>(\n      api,\n      `/organizations/${organization.slug}/events/`,\n      eventView.getEventsAPIPayload(location)\n    );\n\n    return data.data[0];\n  } catch (err) {\n    Sentry.captureException(err);\n    return null;\n  }\n}\n\nfunction getFilteredEventView({\n  percentiles,\n  spanOperationBreakdownFilter,\n  eventsDisplayFilterName,\n  eventView,\n}: {\n  eventView: EventView;\n  eventsDisplayFilterName: EventsDisplayFilterName;\n  percentiles: PercentileValues;\n  spanOperationBreakdownFilter: SpanOperationBreakdownFilter;\n}) {\n  const filter = getEventsFilterOptions(spanOperationBreakdownFilter, percentiles)[\n    eventsDisplayFilterName\n  ];\n  const filteredEventView = eventView.clone();\n  if (filteredEventView && filter?.query) {\n    const query = new MutableSearch(filteredEventView.query);\n    filter.query.forEach(item => query.setFilterValues(item[0], [item[1]]));\n    filteredEventView.query = query.formatString();\n  }\n  return filteredEventView;\n}\n\nexport default useReplaysFromTransaction;\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar __isA = {\n  \"PointValueExtractor<unknown>\": value => typeof value === \"function\",\n  \"XYDataPoint\": value => value !== undefined && value !== null && __isA[\"X\"](value[\"x\"]) && typeof value[\"y\"] === \"number\",\n  \"X\": value => typeof value === \"number\" || value instanceof Date\n};\nvar calculateMean = values => {\n  var m = 0;\n\n  for (var i = 0; i < values.length; i += 1) {\n    m += values[i];\n  }\n\n  return m / values.length;\n};\nvar calculateSTD = values => {\n  var mean = calculateMean(values);\n  var std = 0;\n\n  for (var i = 0; i < values.length; i += 1) {\n    std += (values[i] - mean) * (values[i] - mean);\n  }\n\n  return Math.sqrt(std / values.length);\n};\nvar mapToArray = (input, callback) => {\n  var length = input.length;\n  var result = new Array(length);\n\n  for (var i = 0; i < length; i++) {\n    result[i] = callback(input[i], i);\n  }\n\n  return result;\n};\nvar getPointValueExtractor = accessor => {\n  if (__isA[\"PointValueExtractor<unknown>\"](accessor)) return accessor;\n  return point => point[accessor];\n};\nvar createXYDataPoint = (time, value) => ({\n  x: time,\n  y: value\n});\nvar createLegacyDataPointConfig = () => ({\n  x: point => {\n    var t = __isA[\"XYDataPoint\"](point) ? point.x : point[0];\n    return t instanceof Date ? t.getTime() : t;\n  },\n  y: point => 'y' in point ? point.y : point[1],\n  toPoint: createXYDataPoint\n});\nvar iterableBasedOn = (input, length) => new input.constructor(length);\n\nvar SMANumeric = function SMANumeric(data, windowSize) {\n  var slide = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var output = [];\n  var sum = 0;\n\n  for (var i = 0; i < windowSize; i++) {\n    sum += data[i];\n  }\n\n  for (var _i = windowSize; _i <= data.length; _i++) {\n    if ((_i - windowSize) % slide === 0) {\n      output.push(sum / windowSize);\n    }\n\n    sum += data[_i] - data[_i - windowSize];\n  }\n\n  return output;\n};\n/**\n * Simple Moving Average (SMA)\n *\n * @param data {Number[]}\n * @param windowSize {Number}\n * @param slide {Number}\n */\n\nvar createSMA = config => {\n  var timeExtractor = getPointValueExtractor(config.x);\n  var valueExtractor = getPointValueExtractor(config.y);\n  var pointFactory = config.toPoint;\n  return function (values, windowSize) {\n    var slide = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    if (values.length === 0) return values;\n    var data = mapToArray(values, valueExtractor);\n    var times = mapToArray(values, timeExtractor);\n    var output = iterableBasedOn(values, 0);\n    var sum = 0;\n    var value;\n\n    for (var i = 0; i < windowSize; i++) {\n      sum += data[i];\n    }\n\n    for (var _i2 = windowSize; _i2 <= data.length; _i2++) {\n      if ((_i2 - windowSize) % slide === 0) {\n        value = pointFactory((times[_i2 - windowSize] + times[_i2 - 1]) / 2, sum / windowSize, _i2 - windowSize);\n        output[output.length] = value;\n      }\n\n      sum += data[_i2] - data[_i2 - windowSize];\n    }\n\n    return output;\n  };\n};\nvar SMA = createSMA(createLegacyDataPointConfig());\n\n/*\n * Free FFT and convolution (JavaScript)\n *\n * Copyright (c) 2014 Project Nayuki\n * https://www.nayuki.io/page/free-small-fft-in-multiple-languages\n *\n * (MIT License)\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n * the Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n * - The above copyright notice and this permission notice shall be included in\n *   all copies or substantial portions of the Software.\n * - The Software is provided \"as is\", without warranty of any kind, express or\n *   implied, including but not limited to the warranties of merchantability,\n *   fitness for a particular purpose and noninfringement. In no event shall the\n *   authors or copyright holders be liable for any claim, damages or other\n *   liability, whether in an action of contract, tort or otherwise, arising from,\n *   out of or in connection with the Software or the use or other dealings in the\n *   Software.\n */\n\n/*\n * Computes the discrete Fourier transform (DFT) of the given complex vector, storing the result back into the vector.\n * The vector can have any length. This is a wrapper function.\n */\n\nfunction fft(real, imag) {\n  if (real.length != imag.length) throw 'Mismatched lengths';\n  var n = real.length;\n  if (n == 0) return;else if ((n & n - 1) == 0) // Is power of 2\n    transformRadix2(real, imag); // More complicated algorithm for arbitrary sizes\n  else transformBluestein(real, imag);\n}\n/*\n * Computes the inverse discrete Fourier transform (IDFT) of the given complex vector, storing the result back into the vector.\n * The vector can have any length. This is a wrapper function. This transform does not perform scaling, so the inverse is not a true inverse.\n */\n\nfunction inverseFFT(real, imag) {\n  fft(imag, real);\n}\n/*\n * Computes the discrete Fourier transform (DFT) of the given complex vector, storing the result back into the vector.\n * The vector's length must be a power of 2. Uses the Cooley-Tukey decimation-in-time radix-2 algorithm.\n */\n\nfunction transformRadix2(real, imag) {\n  // Initialization\n  if (real.length != imag.length) throw 'Mismatched lengths';\n  var n = real.length;\n  if (n == 1) // Trivial transform\n    return;\n  var levels = -1;\n\n  for (var i = 0; i < 32; i++) {\n    if (1 << i == n) levels = i; // Equal to log2(n)\n  }\n\n  if (levels == -1) throw 'Length is not a power of 2';\n  var cosTable = new Array(n / 2);\n  var sinTable = new Array(n / 2);\n\n  for (var _i = 0; _i < n / 2; _i++) {\n    cosTable[_i] = Math.cos(2 * Math.PI * _i / n);\n    sinTable[_i] = Math.sin(2 * Math.PI * _i / n);\n  } // Bit-reversed addressing permutation\n\n\n  for (var _i2 = 0; _i2 < n; _i2++) {\n    var j = reverseBits(_i2, levels);\n\n    if (j > _i2) {\n      var temp = real[_i2];\n      real[_i2] = real[j];\n      real[j] = temp;\n      temp = imag[_i2];\n      imag[_i2] = imag[j];\n      imag[j] = temp;\n    }\n  } // Cooley-Tukey decimation-in-time radix-2 FFT\n\n\n  for (var size = 2; size <= n; size *= 2) {\n    var halfsize = size / 2;\n    var tablestep = n / size;\n\n    for (var _i3 = 0; _i3 < n; _i3 += size) {\n      for (var _j = _i3, k = 0; _j < _i3 + halfsize; _j++, k += tablestep) {\n        var tpre = real[_j + halfsize] * cosTable[k] + imag[_j + halfsize] * sinTable[k];\n        var tpim = -real[_j + halfsize] * sinTable[k] + imag[_j + halfsize] * cosTable[k];\n        real[_j + halfsize] = real[_j] - tpre;\n        imag[_j + halfsize] = imag[_j] - tpim;\n        real[_j] += tpre;\n        imag[_j] += tpim;\n      }\n    }\n  }\n} // Returns the integer whose value is the reverse of the lowest 'bits' bits of the integer 'x'.\n\n\nfunction reverseBits(x, bits) {\n  var y = 0;\n\n  for (var i = 0; i < bits; i++) {\n    y = y << 1 | x & 1;\n    x >>>= 1;\n  }\n\n  return y;\n}\n/*\n * Computes the discrete Fourier transform (DFT) of the given complex vector, storing the result back into the vector.\n * The vector can have any length. This requires the convolution function, which in turn requires the radix-2 FFT function.\n * Uses Bluestein's chirp z-transform algorithm.\n */\n\n\nfunction transformBluestein(real, imag) {\n  // Find a power-of-2 convolution length m such that m >= n * 2 + 1\n  if (real.length != imag.length) throw 'Mismatched lengths';\n  var n = real.length;\n  var m = 1;\n\n  while (m < n * 2 + 1) {\n    m *= 2;\n  } // Trignometric tables\n\n\n  var cosTable = new Array(n);\n  var sinTable = new Array(n);\n\n  for (var i = 0; i < n; i++) {\n    var j = i * i % (n * 2); // This is more accurate than j = i * i\n\n    cosTable[i] = Math.cos(Math.PI * j / n);\n    sinTable[i] = Math.sin(Math.PI * j / n);\n  } // Temporary vectors and preprocessing\n\n\n  var areal = new Array(m);\n  var aimag = new Array(m);\n\n  for (var _i4 = 0; _i4 < n; _i4++) {\n    areal[_i4] = real[_i4] * cosTable[_i4] + imag[_i4] * sinTable[_i4];\n    aimag[_i4] = -real[_i4] * sinTable[_i4] + imag[_i4] * cosTable[_i4];\n  }\n\n  for (var _i5 = n; _i5 < m; _i5++) {\n    areal[_i5] = aimag[_i5] = 0;\n  }\n\n  var breal = new Array(m);\n  var bimag = new Array(m);\n  breal[0] = cosTable[0];\n  bimag[0] = sinTable[0];\n\n  for (var _i6 = 1; _i6 < n; _i6++) {\n    breal[_i6] = breal[m - _i6] = cosTable[_i6];\n    bimag[_i6] = bimag[m - _i6] = sinTable[_i6];\n  }\n\n  for (var _i7 = n; _i7 <= m - n; _i7++) {\n    breal[_i7] = bimag[_i7] = 0;\n  } // Convolution\n\n\n  var creal = new Array(m);\n  var cimag = new Array(m);\n  convolveComplex(areal, aimag, breal, bimag, creal, cimag); // Postprocessing\n\n  for (var _i8 = 0; _i8 < n; _i8++) {\n    real[_i8] = creal[_i8] * cosTable[_i8] + cimag[_i8] * sinTable[_i8];\n    imag[_i8] = -creal[_i8] * sinTable[_i8] + cimag[_i8] * cosTable[_i8];\n  }\n}\n/*\n * Computes the circular convolution of the given complex vectors. Each vector's length must be the same.\n */\n\n\nfunction convolveComplex(xreal, ximag, yreal, yimag, outreal, outimag) {\n  if (xreal.length != ximag.length || xreal.length != yreal.length || yreal.length != yimag.length || xreal.length != outreal.length || outreal.length != outimag.length) throw 'Mismatched lengths';\n  var n = xreal.length;\n  xreal = xreal.slice();\n  ximag = ximag.slice();\n  yreal = yreal.slice();\n  yimag = yimag.slice();\n  fft(xreal, ximag);\n  fft(yreal, yimag);\n\n  for (var i = 0; i < n; i++) {\n    var temp = xreal[i] * yreal[i] - ximag[i] * yimag[i];\n    ximag[i] = ximag[i] * yreal[i] + xreal[i] * yimag[i];\n    xreal[i] = temp;\n  }\n\n  inverseFFT(xreal, ximag);\n\n  for (var _i9 = 0; _i9 < n; _i9++) {\n    // Scaling (because this FFT implementation omits it)\n    outreal[_i9] = xreal[_i9] / n;\n    outimag[_i9] = ximag[_i9] / n;\n  }\n}\n\nvar calculateDiffs = values => {\n  var length = values.length - 1;\n  if (length < 1) return [];\n  var diffs = new Array(length);\n\n  for (var i = 0; i < length; i++) {\n    diffs[i] = values[i + 1] - values[i];\n  }\n\n  return diffs;\n};\n\nvar calculateRoughness = values => calculateSTD(calculateDiffs(values));\n\nvar calculateKurtosis = values => {\n  var length = values.length;\n  var mean = calculateMean(values);\n  var u4 = 0;\n  var variance = 0;\n  var diff;\n  var diffSqr;\n\n  for (var i = 0; i < length; i++) {\n    diff = values[i] - mean;\n    diffSqr = diff * diff;\n    u4 += diffSqr * diffSqr;\n    variance += diffSqr;\n  }\n\n  return length * u4 / (variance * variance);\n};\n\nvar findWindowSize = (head, tail, data, minRoughness, originalKurt, windowSize) => {\n  while (head <= tail) {\n    var w = Math.round((head + tail) / 2);\n    var smoothed = SMANumeric(data, w, 1);\n    var kurtosis = calculateKurtosis(smoothed);\n\n    if (kurtosis >= originalKurt) {\n      /* Search second half if feasible */\n      var roughness = calculateRoughness(smoothed);\n\n      if (roughness < minRoughness) {\n        windowSize = w;\n        minRoughness = roughness;\n      }\n\n      head = w + 1;\n    } else {\n      /* Search first half */\n      tail = w - 1;\n    }\n  }\n\n  return windowSize;\n};\n\nvar calculatePeaks = function calculatePeaks(correlations) {\n  var threshold = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.2;\n  var length = correlations.length;\n  if (length <= 1) return [[], 0];\n  var maxCorrelation = 0;\n  var peaks = [];\n\n  if (correlations.length > 1) {\n    var positive = correlations[1] > correlations[0];\n    var max = 1;\n\n    for (var i = 2; i < correlations.length; i += 1) {\n      if (!positive && correlations[i] > correlations[i - 1]) {\n        max = i;\n        positive = !positive;\n      } else if (positive && correlations[i] > correlations[max]) {\n        max = i;\n      } else if (positive && correlations[i] < correlations[i - 1]) {\n        if (max > 1 && correlations[max] > threshold) {\n          peaks.push(max);\n\n          if (correlations[max] > maxCorrelation) {\n            maxCorrelation = correlations[max];\n          }\n        }\n\n        positive = !positive;\n      }\n    }\n  }\n  /* If there is no autocorrelation peak within the MAX_WINDOW boundary try windows from the largest to the smallest */\n\n\n  if (peaks.length <= 1) {\n    for (var _i = 2; _i < length; _i += 1) {\n      peaks.push(_i);\n    }\n  }\n\n  return [peaks, maxCorrelation];\n};\n\nvar calculateAutocorrelation = (values, maxLag) => {\n  var length = values.length;\n  var mean = calculateMean(values);\n  /* Padding to the closest power of 2 */\n\n  var len = Math.pow(2, Math.trunc(Math.log2(length)) + 1);\n  var fftreal = new Array(len).fill(0);\n  var fftimg = new Array(len).fill(0);\n\n  for (var i = 0; i < length; i += 1) {\n    fftreal[i] = values[i] - mean;\n  }\n  /* F_R(f) = FFT(X) */\n\n\n  fft(fftreal, fftimg);\n  /* S(f) = F_R(f)F_R*(f) */\n\n  for (var _i2 = 0; _i2 < fftreal.length; _i2 += 1) {\n    fftreal[_i2] = Math.pow(fftreal[_i2], 2) + Math.pow(fftimg[_i2], 2);\n    fftimg[_i2] = 0;\n  }\n  /*  R(t) = IFFT(S(f)) */\n\n\n  inverseFFT(fftreal, fftimg); // Calculate correlations\n\n  var correlations = [];\n\n  for (var _i3 = 1; _i3 < maxLag; _i3++) {\n    correlations[_i3] = fftreal[_i3] / fftreal[0];\n  }\n\n  var _calculatePeaks = calculatePeaks(correlations),\n      _calculatePeaks2 = _slicedToArray(_calculatePeaks, 2),\n      peaks = _calculatePeaks2[0],\n      maxCorrelation = _calculatePeaks2[1];\n\n  return {\n    correlations,\n    peaks,\n    maxCorrelation\n  };\n};\n\nvar createASAP = config => {\n  var valueExtractor = getPointValueExtractor(config.y);\n  var SMA = createSMA(config);\n  return function ASAP(values, resolution) {\n    if (values.length === 0) return values;\n\n    if (resolution <= 0) {\n      throw new Error(\"Supplied non-positive resolution parameter to ASAP: \".concat(resolution));\n    } // If the resolution is at least twice as big as the number of data points\n    // then the values get downsampled to desired resolution first by SMA\n\n\n    if (values.length >= 2 * resolution) {\n      var scale = Math.trunc(values.length / resolution);\n      return ASAP(SMA(values, scale, scale), resolution);\n    } // First turn data points into a sequence of values\n\n\n    var data = mapToArray(values, valueExtractor);\n\n    var _calculateAutocorrela = calculateAutocorrelation(data, Math.round(data.length / 10)),\n        correlations = _calculateAutocorrela.correlations,\n        peaks = _calculateAutocorrela.peaks,\n        maxCorrelation = _calculateAutocorrela.maxCorrelation;\n\n    var originalKurtosis = calculateKurtosis(data);\n    var minRoughness = calculateRoughness(data);\n    var windowSize = 1;\n    var lb = 1;\n    var largestFeasible = -1;\n    var tail = data.length / 10;\n\n    for (var i = peaks.length - 1; i >= 0; i -= 1) {\n      var w = peaks[i];\n\n      if (w < lb || w === 1) {\n        break;\n      } else if (Math.sqrt(1 - correlations[w]) * windowSize > Math.sqrt(1 - correlations[windowSize]) * w) {\n        continue;\n      }\n\n      var smoothed = SMANumeric(data, w, 1);\n      var kurtosis = calculateKurtosis(smoothed);\n      var roughness = calculateRoughness(smoothed);\n\n      if (kurtosis >= originalKurtosis) {\n        if (roughness < minRoughness) {\n          minRoughness = roughness;\n          windowSize = w;\n        }\n\n        lb = Math.round(Math.max(w * Math.sqrt((maxCorrelation - 1) / (correlations[w] - 1)), lb));\n\n        if (largestFeasible < 0) {\n          largestFeasible = i;\n        }\n      }\n    }\n\n    if (largestFeasible > 0) {\n      if (largestFeasible < peaks.length - 2) {\n        tail = peaks[largestFeasible + 1];\n      }\n\n      lb = Math.max(lb, peaks[largestFeasible] + 1);\n    }\n\n    windowSize = findWindowSize(lb, tail, data, minRoughness, originalKurtosis, windowSize);\n    return SMA(values, windowSize, 1);\n  };\n};\nvar ASAP = createASAP(createLegacyDataPointConfig());\n\nexports.ASAP = ASAP;\nexports.createASAP = createASAP;\n//# sourceMappingURL=ASAP.js.map\n"],"names":["ReplaysContent","eventView","isFetching","pageLinks","replays","theme","useTheme","hasRoomForColumns","useMedia","breakpoints","small","fullWidth","fetchError","undefined","sort","first","sorts","field","kind","visibleColumns","ReplayColumns","renderNoAccess","withPadding","type","t","TransactionReplays","props","location","organization","projects","features","renderDisabled","tab","Tab","getDocumentTitle","generateEventView","childComponent","ReplaysContentWrapper","eventsWithReplaysView","setError","eventsDisplayFilterName","decodeEventsDisplayFilterFromLocation","spanOperationBreakdownFilter","decodeFilterFromLocation","api","useApi","data","setData","useState","load","useCallback","async","percentilesView","getPercentilesEventView","clone","percentileData","doDiscoverQuery","slug","getEventsAPIPayload","err","Sentry","fetchPercentiles","percentiles","mapPercentileValues","filteredEventView","filter","getEventsFilterOptions","query","MutableSearch","forEach","item","setFilterValues","formatString","getFilteredEventView","eventsData","fetchEventsWithReplay","replayIds","map","row","replayId","EventView","id","name","version","fields","REPLAY_LIST_FIELDS","String","fromSorts","decodeScalar","DEFAULT_SORT","listData","fetchReplayList","replay","slowestEvent","event","txEvent","useEffect","useReplaysFromTransaction","message","Fragment","transactionName","trim","length","join","breakdown","SpanOperationBreakdownFilter","push","SPAN_OP_BREAKDOWN_FIELDS","SPAN_OP_RELATIVE_BREAKDOWN_FIELD","conditions","addFilterValues","orderby","withProjects","withOrganization","_arrayLikeToArray","arr","len","i","arr2","Array","__isA","value","Date","calculateMean","values","m","mapToArray","input","callback","result","getPointValueExtractor","accessor","point","createXYDataPoint","time","x","y","createLegacyDataPointConfig","getTime","toPoint","iterableBasedOn","constructor","SMANumeric","windowSize","slide","arguments","output","sum","_i","createSMA","config","timeExtractor","valueExtractor","pointFactory","times","_i2","fft","real","imag","n","levels","cosTable","sinTable","Math","cos","PI","sin","j","reverseBits","temp","size","halfsize","tablestep","_i3","_j","k","tpre","tpim","transformRadix2","areal","aimag","_i4","_i5","breal","bimag","_i6","_i7","creal","cimag","xreal","ximag","yreal","yimag","outreal","outimag","slice","inverseFFT","_i9","convolveComplex","_i8","transformBluestein","bits","SMA","calculateRoughness","mean","std","sqrt","calculateSTD","diffs","calculateDiffs","calculateKurtosis","diff","diffSqr","u4","variance","ASAP","resolution","Error","concat","scale","trunc","_calculateAutocorrela","maxLag","pow","log2","fftreal","fill","fftimg","correlations","_calculatePeaks","threshold","maxCorrelation","peaks","positive","max","calculatePeaks","_calculatePeaks2","isArray","_arrayWithHoles","Symbol","iterator","Object","_arr","_n","_d","_e","_s","next","done","_iterableToArrayLimit","o","minLen","prototype","toString","call","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","_slicedToArray","calculateAutocorrelation","round","originalKurtosis","minRoughness","lb","largestFeasible","tail","w","smoothed","kurtosis","roughness","head","originalKurt","findWindowSize","exports"],"sourceRoot":""}