import{d as I,r as P,al as A,c as s,Z as D,a0 as L,am as B,an as N,ao as U,a as n,w as o,a2 as f,a3 as V,Y,ap as j,o as l,u as e,aq as q,e as u,ar as w,as as H,b as d,at as O,au as Q,av as Z,aw as $}from"./index-cf811249-507d81e3.js";import{u as z}from"./usePageTitle-875b2cfa.js";import"./index-8b015e0e.js";import{r as E}from"./routes-f02fded2.js";import"./meta-26546594.js";const ee=I({__name:"FlowRun",setup(G){const i=V(),c=P("Logs"),p=A("flowRunId"),m=s(()=>{const t=["Logs","Task Runs","Subflow Runs","Parameters"];return Y.xl||t.push("Details"),t}),_=D(),v=L(_.flowRuns.getFlowRun,[p],{interval:3e4}),a=s(()=>v.response),y=s(()=>{var t;return(t=a.value)==null?void 0:t.deploymentId}),R=B(y);N(p,(t,r)=>{t!==r&&(c.value="Logs")});const b=s(()=>{var t;return((t=a.value)==null?void 0:t.parameters)??{}}),k=s(()=>{var t;return((t=R.value)==null?void 0:t.parameterOpenApiSchema)??{}}),g=s(()=>j(b.value,k.value));function h(){i.push(E.flowRuns())}const F=s(()=>{var t;return(t=a.value)==null?void 0:t.stateType});U(F);const T=s(()=>a.value?`Flow Run: ${a.value.name}`:"Flow Run");return z(T),(t,r)=>{const x=f("p-tabs"),S=f("p-layout-well");return l(),n(S,{class:"flow-run"},{header:o(()=>[e(a)?(l(),n(e(q),{key:0,"flow-run-id":e(a).id,onDelete:h},null,8,["flow-run-id"])):u("",!0)]),well:o(()=>[e(a)?(l(),n(e(w),{key:0,"flow-run":e(a),alternate:""},null,8,["flow-run"])):u("",!0)]),default:o(()=>[e(a)?(l(),n(e(H),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0),d(x,{selected:c.value,"onUpdate:selected":r[0]||(r[0]=C=>c.value=C),tabs:e(m)},{details:o(()=>[e(a)?(l(),n(e(w),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0)]),logs:o(()=>[e(a)?(l(),n(e(O),{key:0,"flow-run":e(a)},null,8,["flow-run"])):u("",!0)]),"task-runs":o(()=>[e(a)?(l(),n(e(Q),{key:0,"flow-run-id":e(a).id},null,8,["flow-run-id"])):u("",!0)]),"subflow-runs":o(()=>[e(a)?(l(),n(e(Z),{key:0,"flow-run-id":e(a).id},null,8,["flow-run-id"])):u("",!0)]),parameters:o(()=>[d(e($),{value:e(g)},null,8,["value"])]),_:1},8,["selected","tabs"])]),_:1})}}});export{ee as default};
