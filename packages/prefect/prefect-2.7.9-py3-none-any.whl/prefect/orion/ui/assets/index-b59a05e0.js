import{U as M,d as g,c as C,o as l,a as f,w as u,b as n,u as e,h as c,e as y,x as S,f as v,V as U,M as V,R as N,p as d,r as $,Y as w,g as B,i as x,j as b,T as E,k as F,l as P,m as T,L as D,O as W,n as j,X as H,C as K,E as q,q as z,s as Q,S as X,t as Y,v as G,z as J}from"./index-cf811249-507d81e3.js";import{r as Z}from"./index-8b015e0e.js";import{i as ee}from"./colorMode-77b0b831.js";import{r as i}from"./routes-f02fded2.js";import{U as h,A as te}from"./ApiRoute-48a7b059.js";import"./meta-26546594.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))_(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const p of s.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&_(p)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function _(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const A=Symbol("canInjectionKey");function oe(){return M(A)}const se=g({__name:"ContextSidebar",setup(a){const t=oe(),r=C(()=>t.access.workers&&t.read.work_pool);return(_,o)=>(l(),f(e(S),{class:"context-sidebar"},{footer:u(()=>[n(e(c),{title:"Settings",icon:"CogIcon",to:e(i).settings()},null,8,["to"])]),default:u(()=>[n(e(c),{title:"Flow Runs",icon:"FlowRun",to:e(i).flowRuns()},null,8,["to"]),n(e(c),{title:"Flows",icon:"Flow",to:e(i).flows()},null,8,["to"]),n(e(c),{title:"Deployments",icon:"LocationMarkerIcon",to:e(i).deployments()},null,8,["to"]),e(r)?(l(),f(e(c),{key:0,title:"Workers",icon:"DatabaseIcon",to:e(i).workPools()},null,8,["to"])):y("",!0),n(e(c),{title:"Work Queues",icon:"DatabaseIcon",to:e(i).workQueues()},null,8,["to"]),n(e(c),{title:"Blocks",icon:"CubeIcon",to:e(i).blocks()},null,8,["to"]),n(e(c),{title:"Notifications",icon:"BellIcon",to:e(i).notifications()},null,8,["to"]),n(e(c),{title:"Task Run Concurrency",icon:"Task",to:e(i).concurrencyLimits()},null,8,["to"])]),_:1}))}}),ne={class:"app-router-view"},ae=g({__name:"AppRouterView",async setup(a){let t,r;const _=([t,r]=v(()=>h.get("apiUrl")),t=await t,r(),t),o=U({baseUrl:_}),s=([t,r]=v(()=>h.get("flags")),t=await t,r(),t),p=V([...N,...s]),I=H();d(A,p),d(D,p),d(W,o),d(j,I);const m=$(!1),k=C(()=>w.lg||m.value);function R(){m.value=!m.value}function L(){m.value=!1}return B(()=>document.body.classList.toggle("body-scrolling-disabled",k.value&&!w.lg)),(fe,_e)=>(l(),x("div",ne,[e(w).lg?y("",!0):(l(),f(e(E),{key:0,class:"app-router-view__mobile-menu"},{"upper-links":u(()=>[n(e(b),{icon:"PrefectGradient",class:"app-router-view__prefect-icon"})]),"bottom-links":u(()=>[n(e(b),{icon:"MenuIcon",class:"app-router-view__menu-icon",onClick:R})]),_:1})),e(k)?(l(),f(se,{key:1,class:"app-router-view__sidebar",onClick:L})):y("",!0),n(e(T),{class:"app-router-view__view"},{default:u(({Component:O})=>[n(F,{name:"app-router-view-fade",mode:"out-in"},{default:u(()=>[(l(),f(P(O)))]),_:2},1024)]),_:1})]))}});class re extends te(q){}const ce=K(new re);async function ie(){try{await ce.getHealth()}catch(a){const t=await h.get("apiUrl").then(r=>r);z(`Can't connect to Orion API at ${t}. Check that it's accessible from your machine.`,"error",{timeout:!1}),console.warn(a)}}const le={class:"app","data-teleport-target":"app"},ue=g({__name:"App",setup(a){return ie(),Q(),(t,r)=>(l(),x("div",le,[(l(),f(X,null,{default:u(()=>[n(ae)]),_:1}))]))}});ee();function pe(){const a=Y(ue);a.use(Z),a.use(G),a.use(J),a.mount("#app")}pe();
