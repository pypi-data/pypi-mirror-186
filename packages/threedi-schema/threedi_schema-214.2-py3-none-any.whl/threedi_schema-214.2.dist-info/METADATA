Metadata-Version: 2.1
Name: threedi-schema
Version: 214.2
Summary: The schema of 3Di schematization files
Home-page: https://github.com/nens/threedi-schema
Author: Nelen & Schuurmans
Author-email: info@nelen-schuurmans.nl
License: MIT
Classifier: Programming Language :: Python
Classifier: Framework :: Django
Requires-Python: >=3.7
License-File: LICENSE
Requires-Dist: GeoAlchemy2 (!=0.11.*,>=0.9)
Requires-Dist: SQLAlchemy (>=1.3)
Requires-Dist: alembic (>=1.8)
Provides-Extra: cli
Requires-Dist: click ; extra == 'cli'
Provides-Extra: test
Requires-Dist: pytest ; extra == 'test'
Requires-Dist: pytest-cov ; extra == 'test'

threedi-schema
==========================================


.. image:: https://img.shields.io/pypi/v/threedi-schema.svg
  :target: https://pypi.org/project/threedi-schema/

.. image:: https://github.com/nens/threedi-schema/actions/workflows/test.yml/badge.svg
	:alt: Github Actions status
	:target: https://github.com/nens/threedi-schema/actions/workflows/test.yml


The schema of 3Di schematization files

This package exposes the following:

- A ``ThreediDatabase`` object to interact with the schematization files.
- Methods for upgrading schema versions.
- The 3Di schema as SQLAlchemy models and python Enum classes.

Example
-------

The following code sample shows how you can upgrade a schematization file::

    from threedi_schema import ThreediDatabase

    db = ThreediDatabase("<Path to your sqlite file>")
    db.schema.upgrade()


The following code sample shows how you can list Channel objects::

    from threedi_schema import models

    channels = db.get_session().query(models.Channel).all()


Command-line interface
----------------------

Migrate to the latest schema version::

    threedi_schema -s path/to/model.sqlite migrate 


Ensure presence of spatial indexes::

    threedi_schema -s path/to/model.sqlite index 


Installation
------------

Install with::

  $ pip install threedi-schema


Changelog of threedi-schema
===================================================


214.2 (2023-01-17)
------------------

- Fixed packaging (also include migrations).


214.1 (2023-01-17)
------------------

- Fixed packaging.


214.0 (2023-01-17)
------------------

- Initial project structure created with cookiecutter and
  https://github.com/nens/cookiecutter-python-template

- Ported code from threedi-modelchecker, rearranged into
  'domain', 'application', 'infrastructure', 'migrations'.
